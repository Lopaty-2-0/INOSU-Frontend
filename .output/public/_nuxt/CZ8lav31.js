import f from"./CifvRPEO.js";import{_ as y}from"./DYRQ8GlI.js";import{e as g,z as D,r as u,j as $,k as b,l as w,w as n,m as x,o as M,a as e,b as r,u as a,h as N,v as Y,t as p,n as H,_ as V}from"./BOTJj54N.js";import{N as I}from"./CNAKVRyg.js";import{W as T}from"./BaZjkqkZ.js";/* empty css        */import{a as z}from"./CgcvtauW.js";import{u as C}from"./DnVfp5Ik.js";import{m}from"./qbsqZPAI.js";import{N as S}from"./BsP6i_ER.js";import"./Bjzd0Fzp.js";import"./DIgd3d0_.js";import"./DJnPrvna.js";import"./DDA_vpvc.js";import"./DqRpk7B7.js";const A={id:"tasks"},R={class:"content"},B={class:"line"},U={class:"line"},Z={class:"line"},j={class:"search"},O=["href"],P={class:"actions"},W=["onClick"],E=g({__name:"evaluated",setup(F){C({title:"Panel | Vyhodnocené úkoly",meta:[{name:"description",content:"Panel Homepage"}]});const s=D().params.role,_=u([{field:"id",title:"ID",width:"90px",type:"number"},{field:"name",title:"Název",type:"string"},{field:"startDate",title:"Začátek",type:"date"},{field:"endDate",title:"Konec",type:"date"},{field:"task",title:"Zadání",type:"string"},{field:"actions",title:"Akce"}]),c=u(void 0),d=u(""),v=async i=>{i&&await H(`/panel/tasks/${s}/${i}`)};return $(async()=>{await z(`/user_task/get/status?status=${encodeURIComponent(JSON.stringify(["approved"]))}&which=1`,{method:"get",credentials:"include",ignoreResponseError:!0,onResponse({response:i}){const o=(i._data.data.elaboratingTasks||[]).filter(l=>l.review).map(l=>({...l,id:l.idTask}))||[];c.value=o||[]}})}),(i,o)=>{const l=f,k=y,h=x;return M(),b(h,{name:"panel",loading:!c.value},w({header:n(()=>[r(I,{links:[{name:"Úkoly",path:`/panel/tasks/${a(s)}`},{name:"Vyhodnocené",path:`/panel/tasks/${a(s)}/evaluated`}]},null,8,["links"])]),_:2},[c.value?{name:"content",fn:n(()=>[e("div",A,[e("div",R,[e("div",B,[r(S,{class:"navigation",title:"Úkoly","active-link-id":3,links:[{name:"Aktivní",path:`/panel/tasks/${a(s)}`},{name:"Dostupné",path:`/panel/tasks/${a(s)}/available`},{name:"Stav úkolů",path:`/panel/tasks/${a(s)}/status`},{name:"Vyhodnocené",path:`/panel/tasks/${a(s)}/evaluated`}]},null,8,["links"]),e("div",U,[e("div",Z,[o[1]||(o[1]=e("div",{class:"section-head"},[e("h3",null,"Vyhodnocené úkoly"),e("p",null,"Zde naleznete seznam všech úkolů, které již byly vyhodnoceny.")],-1)),e("div",j,[N(e("input",{type:"text",name:"searchInput",placeholder:"Hledat úkol","onUpdate:modelValue":o[0]||(o[0]=t=>d.value=t)},null,512),[[Y,d.value]]),r(l,{class:"icon",name:"material-symbols:search-rounded"})])]),r(a(T),{rows:c.value,columns:_.value,pageSize:10,sortable:!0,search:d.value},{task:n(t=>[e("a",{href:`http://89.203.248.163/uploads/tasks/${t.value.id}/${t.value.task}`,class:"link",download:"",target:"_blank"},p(t.value.task),9,O)]),startDate:n(t=>[e("p",null,p(a(m)(t.value.startDate).format("DD.MM. YYYY HH:MM")),1)]),endDate:n(t=>[e("p",null,p(a(m)(t.value.endDate).format("DD.MM. YYYY HH:MM")),1)]),approve:n(t=>[e("p",null,p(t.value.approve?"Ano":"Ne"),1)]),actions:n(t=>[e("div",P,[e("button",{type:"button",class:"primary",onClick:K=>v(t.value.id)},"Otevřít",8,W)])]),_:1},8,["rows","columns","search"])])])])]),r(k)]),key:"0"}:void 0]),1032,["loading"])}}}),pe=V(E,[["__scopeId","data-v-d1f4d0d0"]]);export{pe as default};
//# sourceMappingURL=CZ8lav31.js.map
