import b from"./dFJnGj4t.js";import{e as x,z as U,r as l,j as y,k as C,l as I,w as f,m as k,o as P,a as s,b as o,u,h as w,v as N,_ as R}from"./DFLv1YV6.js";import{A as G}from"./Czmg5iyQ.js";import{N as T}from"./gU5XJUlO.js";import{U as B,G as S}from"./CNy-T8Hj.js";import{_ as A}from"./CQ3zrzCx.js";import{a as E}from"./BUVrFq-o.js";import{u as L}from"./CZ6KBkoC.js";import"./COvE1TAq.js";import"./DzoiDIvV.js";import"./C2O9fF6a.js";import"./CJYBnIlQ.js";import"./XGKoS8Uj.js";import"./C5S46NFB.js";const O={id:"users"},V={class:"content"},$={class:"line"},j={class:"search"},D={class:"users"},H=x({__name:"index",setup(M){const t=U().params.class;L({title:"Panel | Upravení uživatelů - Třída: "+t,meta:[{name:"description",content:"Panel Settings User Information"}]});const r=l(null),m=l(0),v=l(0),c=l(""),p=l([]),h=()=>{const d=c.value.split(" "),e=[];r.value&&(r.value.forEach(a=>{[a.name,a.surname,a.email,a.abbreviation||""].some(n=>{let _=!1;return d.forEach(g=>{_=n.toLowerCase().includes(g.toLowerCase())}),_})&&e.push(a)}),p.value=e)};return y(async()=>{await E(t!=="undefined"?`/user_class/get/users?idClass=${encodeURIComponent(t)}`:"/user/get/noClass",{method:"get",headers:{"Content-Type":"application/json"},credentials:"include",ignoreResponseError:!0,onResponse({response:d}){var a,i;const e=((i=(a=d._data)==null?void 0:a.data)==null?void 0:i.users)||[];r.value=e,p.value=[...e]}})}),(d,e)=>{const a=b,i=k;return P(),C(i,{name:"panel",loading:!r.value},I({header:f(()=>[o(T,{links:[{name:"Uživatelé",path:"/panel/users"},{name:"student",path:"/panel/users/student"},{name:"Třída: "+u(t),path:"/panel/users/student/"+u(t)},{name:"Upravení",path:"/panel/users/student/"+u(t)+"/edit"}]},null,8,["links"])]),_:2},[r.value?{name:"content",fn:f(()=>[s("div",O,[s("div",V,[o(G,{class:"action-bar",description:"Správa uživatelů",active:1,texts:["Přidat","Upravit","Odebrat"],icons:["material-symbols:add-rounded","material-symbols:edit-rounded","material-symbols:delete-rounded"],"navigate-to":["/panel/users/add",`/panel/users/student/${u(t)}/edit`,`/panel/users/student/${u(t)}/remove`]},null,8,["navigate-to"]),s("div",$,[e[3]||(e[3]=s("div",{class:"section-head"},[s("h3",null,"Upravení uživatelů"),s("p",null,"Zde si můžete vybrat uživatele, kterého chcete upravit.")],-1)),s("div",j,[w(s("input",{type:"text",name:"searchInput",placeholder:"Hledat uživatele",onInput:h,"onUpdate:modelValue":e[0]||(e[0]=n=>c.value=n)},null,544),[[N,c.value]]),o(a,{class:"icon",name:"material-symbols:search-rounded"})])]),s("div",D,[o(B,{users:p.value,"users-per-page":12,action:"edit","active-page":v.value,"onGet:numberOfPages":e[1]||(e[1]=n=>m.value=n)},null,8,["users","active-page"]),o(S,{class:"users-navigation","number-of-pages":m.value,"onGet:activePage":e[2]||(e[2]=n=>v.value=n)},null,8,["number-of-pages"])])]),o(A)])]),key:"0"}:void 0]),1032,["loading"])}}}),oe=R(H,[["__scopeId","data-v-c8aaa949"]]);export{oe as default};
//# sourceMappingURL=C1v0kapA.js.map
