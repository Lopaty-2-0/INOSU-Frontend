import h from"./BOQHfSiJ.js";import{_ as f}from"./fzoHn8T8.js";import{e as y,z as g,r as c,j as D,k as x,l as b,w as s,m as w,o as M,a as e,b as i,u as a,h as N,v as S,x as $,t as r,_ as Y}from"./qt0h0kFv.js";import{N as H}from"./2dFQOzvg.js";import{W as j}from"./ByFXw8iZ.js";/* empty css        */import{a as z}from"./CI6GBMjg.js";import{u as I}from"./KD0uSQAu.js";import{m}from"./qbsqZPAI.js";import{N as C}from"./BOHBachx.js";import"./DgTH69TZ.js";import"./CI2UeAAB.js";import"./DjacMGf3.js";import"./DZFHCepi.js";import"./DlhrDTwY.js";const R={id:"tasks"},T={class:"content"},V={class:"line"},Z={class:"line"},A={class:"line"},B={class:"search"},P=["href"],U=y({__name:"status",setup(W){I({title:"Panel | Stavy přijatých úkolů",meta:[{name:"description",content:"Panel Homepage"}]});const n=g().params.role,v=c([{field:"id",title:"ID",width:"90px",type:"number"},{field:"name",title:"Název",type:"string"},{field:"startDate",title:"Začátek",type:"date"},{field:"endDate",title:"Konec",type:"date"},{field:"task",title:"Zadání",type:"string"},{field:"status",title:"Stav",type:"string"}]),p=c(void 0),u=c("");return D(async()=>{await z(`/user_task/get/status?status=${encodeURIComponent(JSON.stringify(["rejected","pending"]))}&which=1`,{method:"get",credentials:"include",ignoreResponseError:!0,onResponse({response:d}){const o=(d._data.data.elaboratingTasks||[]).filter(l=>!l.review).map(l=>({...l,id:l.idTask}))||[];p.value=o||[]}})}),(d,o)=>{const l=h,_=f,k=w;return M(),x(k,{name:"panel",loading:!p.value},b({header:s(()=>[i(H,{links:[{name:"Úkoly",path:`/panel/tasks/${a(n)}`},{name:"Stavy úkolů",path:`/panel/tasks/${a(n)}/status`}]},null,8,["links"])]),_:2},[p.value?{name:"content",fn:s(()=>[e("div",R,[e("div",T,[e("div",V,[i(C,{class:"navigation",title:"Úkoly","active-link-id":2,links:[{name:"Aktivní",path:`/panel/tasks/${a(n)}`},{name:"Dostupné",path:`/panel/tasks/${a(n)}/available`},{name:"Stav úkolů",path:`/panel/tasks/${a(n)}/status`},{name:"Vyhodnocené",path:`/panel/tasks/${a(n)}/evaluated`}]},null,8,["links"]),e("div",Z,[e("div",A,[o[1]||(o[1]=e("div",{class:"section-head"},[e("h3",null,"Stavy přijatých úkolů"),e("p",null,"Zde vidíte seznam úkolů, které čekají na schválení nebo byly zamítnuty.")],-1)),e("div",B,[N(e("input",{type:"text",name:"searchInput",placeholder:"Hledat úkol","onUpdate:modelValue":o[0]||(o[0]=t=>u.value=t)},null,512),[[S,u.value]]),i(l,{class:"icon",name:"material-symbols:search-rounded"})])]),i(a(j),{rows:p.value,columns:v.value,pageSize:10,sortable:!0,search:u.value},{task:s(t=>[e("a",{href:`http://89.203.248.163/uploads/tasks/${t.value.id}/${t.value.task}`,class:"link",download:"",target:"_blank"},r(t.value.task),9,P)]),startDate:s(t=>[e("p",null,r(a(m)(t.value.startDate).format("DD.MM. YYYY HH:MM")),1)]),endDate:s(t=>[e("p",null,r(a(m)(t.value.endDate).format("DD.MM. YYYY HH:MM")),1)]),approve:s(t=>[e("p",null,r(t.value.approve?"Ano":"Ne"),1)]),status:s(t=>[e("p",{class:$({[t.value.status]:!0})},r(t.value.status==="rejected"?"Zamítnuto":t.value.status==="pending"?"Čeká na schválení":t.value.status),3)]),_:1},8,["rows","columns","search"])])])])]),i(_)]),key:"0"}:void 0]),1032,["loading"])}}}),lt=Y(U,[["__scopeId","data-v-e7da5a1e"]]);export{lt as default};
//# sourceMappingURL=B5ZYnDmE.js.map
