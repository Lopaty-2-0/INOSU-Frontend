import x from"./D0YqDxnM.js";import{e as U,z as C,r as i,j as k,k as h,l as P,w as f,m as I,o as g,a,g as N,u as l,t as w,h as R,b as c,v as G,_ as S}from"./CUZeRvXC.js";import{A as T}from"./CZPl7iRn.js";import{N as B}from"./DCknVipl.js";import{U as V,G as j}from"./BuOA1l1J.js";import{a as A}from"./CkL4TXxs.js";import{c as D}from"./B9V7JJKt.js";import{u as E}from"./Db-zqWpw.js";import"./BggygjHh.js";import"./DaNuMFcU.js";import"./CnmWWN_2.js";import"./Bz2aGY34.js";import"./DU8lQhTt.js";import"./C5S46NFB.js";const L={id:"users"},O={class:"content"},$={class:"line"},z={class:"section-head"},H={class:"search"},M={class:"users"},F=U({__name:"index",setup(Z){const t=C().params.class;E({title:"Panel | Uživatelé - Třída: "+t,meta:[{name:"description",content:"Panel Settings User Information"}]});const o=i(null),p=i(0),v=i(0),m=i(""),u=i([]),b=()=>{const d=m.value.split(" "),e=[];o.value&&(o.value.forEach(s=>{[s.name,s.surname,s.email,s.abbreviation||""].some(n=>{let _=!1;return d.forEach(y=>{_=n.toLowerCase().includes(y.toLowerCase())}),_})&&e.push(s)}),u.value=e)};return k(async()=>{await A(t!=="undefined"?`/user_class/get/users?idClass=${encodeURIComponent(t)}`:"/user/get/noClass",{method:"get",headers:{"Content-Type":"application/json"},credentials:"include",ignoreResponseError:!0,onResponse({response:d}){var s,r;const e=((r=(s=d._data)==null?void 0:s.data)==null?void 0:r.users)||[];o.value=e,u.value=[...e]}})}),(d,e)=>{const s=x,r=I;return g(),h(r,{name:"panel",loading:!o.value},P({header:f(()=>[c(B,{links:[{name:"Uživatelé",path:"/panel/users"},{name:"student",path:"/panel/users/student"},{name:"Třída: "+l(t),path:"/panel/users/student/"+l(t)}]},null,8,["links"])]),_:2},[o.value?{name:"content",fn:f(()=>[a("div",L,[a("div",O,[l(D)(["admin"])?(g(),h(T,{key:0,class:"action-bar",description:"Správa uživatelů",texts:["Přidat","Upravit","Odebrat"],icons:["material-symbols:add-rounded","material-symbols:edit-rounded","material-symbols:delete-rounded"],"navigate-to":["/panel/users/add",`/panel/users/student/${l(t)}/edit`,`/panel/users/student/${l(t)}/remove`]},null,8,["navigate-to"])):N("",!0),a("div",$,[a("div",z,[a("h3",null,"Celkem uživatelů: "+w(u.value.length),1),e[3]||(e[3]=a("p",null,"Zde vidíte uživatele dané role a třídě. Použijte vyhledávání pro rychlé filtrování seznamu.",-1))]),a("div",H,[R(a("input",{type:"text",name:"searchInput",placeholder:"Hledat uživatele",onInput:b,"onUpdate:modelValue":e[0]||(e[0]=n=>m.value=n)},null,544),[[G,m.value]]),c(s,{class:"icon",name:"material-symbols:search-rounded"})])]),a("div",M,[c(V,{users:u.value,"users-per-page":12,action:"list","active-page":v.value,"onGet:numberOfPages":e[1]||(e[1]=n=>p.value=n)},null,8,["users","active-page"]),c(j,{class:"users-navigation","number-of-pages":p.value,"onGet:activePage":e[2]||(e[2]=n=>v.value=n)},null,8,["number-of-pages"])])])])]),key:"0"}:void 0]),1032,["loading"])}}}),le=S(F,[["__scopeId","data-v-31754558"]]);export{le as default};
//# sourceMappingURL=DJuxLRIx.js.map
