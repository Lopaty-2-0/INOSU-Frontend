{"version":3,"file":"Dyv9-11V.js","sources":["../../../../pages/panel/users/index.vue"],"sourcesContent":["<script lang=\"ts\" setup>\nimport Alerts from \"../../../components/Alerts.vue\";\nimport Navbar from \"../../../components/Navbar.vue\";\nimport apiFetch from \"~/componsables/apiFetch\";\n\nuseHead({\n  title: \"Panel | Uživatelé - role\",\n  meta: [{name: \"description\", content: \"Panel Settings User Information\"}],\n});\n\nconst numberOfUsers = ref<number>(-1);\nconst allRoles = ref<string[] | undefined>(undefined);\n\nonMounted(async (): Promise<void> => {\n  await apiFetch(\"/user/get/number\", {\n    method: \"get\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    credentials: \"include\",\n    ignoreResponseError: true,\n    onResponse({response}) {\n      const users: number = response._data.data.users;\n\n      numberOfUsers.value = users || 0;\n    },\n  });\n\n  await apiFetch(\"/user/get/roles\", {\n    method: \"get\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    credentials: \"include\",\n    ignoreResponseError: true,\n    onResponse({response}) {\n      const roles: string[] = response._data.data.roles;\n\n      allRoles.value = roles || [];\n    },\n  });\n});\n</script>\n\n<template>\n  <NuxtLayout name=\"panel\" :loading=\"numberOfUsers < 0 || !allRoles\">\n    <template #header>\n      <Navbar :links=\"[{ name: 'Uživatelé', path: '/panel/users' }]\"/>\n    </template>\n\n    <template #content v-if=\"allRoles\">\n      <div id=\"users\">\n        <div class=\"content\">\n          <div class=\"line\">\n            <div class=\"section-head\">\n              <h3>Celkem uživatelů: {{ numberOfUsers }}</h3>\n              <p>Zde najdete souhrn všech registrovaných uživatelů v systému.</p>\n            </div>\n          </div>\n\n          <div class=\"roles-section\">\n            <div class=\"section-head\">\n              <h4>Role uživatelů</h4>\n            </div>\n\n            <div class=\"roles\">\n              <NuxtLink\n                  class=\"role\"\n                  v-for=\"role in allRoles\"\n                  :key=\"role\"\n                  :to=\"`/panel/users/${role}`\"\n              >\n                <div class=\"section-head\">\n                  <span>{{\n                    role === \"admin\" ? \"Administrátoři\" : role === \"teacher\" ? \"Učitelé\" : role === \"student\" ? \"Studenti\" : role.charAt(0).toUpperCase() + role.slice(1)\n                  }}</span>\n                </div>\n              </NuxtLink>\n            </div>\n          </div>\n        </div>\n\n        <Alerts/>\n      </div>\n    </template>\n  </NuxtLayout>\n</template>\n\n<style scoped lang=\"scss\">\n  #users {\n    display: flex;\n    flex-direction: row;\n    gap: 30px;\n    position: relative;\n\n    .content {\n      width: 100%;\n      display: flex;\n      flex-direction: column;\n      gap: 35px;\n      position: relative;\n\n      .page-section {\n        border-bottom: 1px solid rgba(var(--border-color), 0.5);\n        padding-bottom: 35px;\n      }\n\n      .section-head {\n        display: flex;\n        flex-direction: column;\n        gap: 10px;\n\n        h3 {\n          font-weight: 600;\n          font-size: 20px;\n          color: var(--title-color);\n        }\n\n        h4 {\n          font-weight: 600;\n          font-size: 16px;\n          color: var(--title-color);\n        }\n\n        p {\n          color: rgba(var(--description-color), 1);\n          font-size: 16px;\n        }\n      }\n\n      .roles-section {\n        display: flex;\n        flex-direction: column;\n        gap: 20px;\n\n        .roles {\n          display: flex;\n          flex-direction: row;\n          flex-wrap: wrap;\n          gap: 30px;\n\n          .role {\n            border-radius: var(--normal-border-radius);\n            display: flex;\n            flex: 1;\n            gap: 30px;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            border: var(--border-width) solid rgba(var(--border-color), 0.5);\n            padding: 60px 30px;\n            transition: 0.2s;\n            cursor: pointer;\n            min-width: 200px;\n            background: var(--card-1-background);\n\n            span {\n              font-weight: 600;\n              font-size: 16px;\n              color: var(--title-color);\n            }\n\n            &:hover,\n            &.active {\n              background: var(--card-1-hover-background);\n            }\n          }\n        }\n      }\n\n      ::v-deep(.section) {\n        width: 100%;\n      }\n    }\n  }\n</style>"],"names":["useHead","numberOfUsers","ref","allRoles","onMounted","apiFetch","response","users","roles"],"mappings":"wlBAKQA,EAAA,CACN,MAAO,2BACP,KAAM,CAAC,CAAC,KAAM,cAAe,QAAS,iCAAkC,CAAA,CAAA,CACzE,EAEK,MAAAC,EAAgBC,EAAY,EAAE,EAC9BC,EAAWD,EAA0B,MAAS,EAEpD,OAAAE,EAAU,SAA2B,CACnC,MAAMC,EAAS,mBAAoB,CACjC,OAAQ,MACR,QAAS,CACP,eAAgB,kBAClB,EACA,YAAa,UACb,oBAAqB,GACrB,WAAW,CAAC,SAAAC,GAAW,CACf,MAAAC,EAAgBD,EAAS,MAAM,KAAK,MAE1CL,EAAc,MAAQM,GAAS,CAAA,CACjC,CACD,EAED,MAAMF,EAAS,kBAAmB,CAChC,OAAQ,MACR,QAAS,CACP,eAAgB,kBAClB,EACA,YAAa,UACb,oBAAqB,GACrB,WAAW,CAAC,SAAAC,GAAW,CACf,MAAAE,EAAkBF,EAAS,MAAM,KAAK,MAEnCH,EAAA,MAAQK,GAAS,CAAC,CAAA,CAC7B,CACD,CAAA,CACF"}