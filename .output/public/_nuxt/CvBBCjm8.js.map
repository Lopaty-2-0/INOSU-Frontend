{"version":3,"file":"CvBBCjm8.js","sources":["../../../../pages/panel/users/[role]/edit/[id].vue"],"sourcesContent":["<script lang=\"ts\" setup>\r\nimport EditFormFooter from \"~/components/manage/Footer.vue\";\r\nimport Alerts from \"~/components/Alerts.vue\";\r\nimport Navbar from \"~/components/Navbar.vue\";\r\nimport { ref } from \"vue\";\r\nimport apiFetch from \"~/componsables/apiFetch\";\r\nimport EditFullName from \"~/components/manage/FullName.vue\";\r\nimport EditEmail from \"~/components/manage/Email.vue\";\r\nimport EditPassword from \"~/components/manage/Password.vue\";\r\nimport EditRole from \"~/components/manage/Role.vue\";\r\nimport EditAbbreviation from \"~/components/manage/Abbreviation.vue\";\r\nimport EditClass from \"~/components/manage/Class.vue\";\r\nimport type {ClassData} from \"~/types/classes\";\r\nimport {useAlertsStore} from \"~/stores/alerts\";\r\nimport {useRoute, useRouter} from \"vue-router\";\r\nimport type {AccountData} from \"~/types/account\";\r\nimport EditProfilePicture from \"~/components/manage/ProfilePicture.vue\";\r\n\r\ndefinePageMeta({\r\n  roles: [\"admin\"],\r\n});\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst id: string = route.params.id as string;\r\nconst role: string = route.params.role as string;\r\n\r\nuseHead({\r\n  title: \"Panel | Upravení uživatele - \" + id,\r\n  meta: [\r\n    { name: \"description\", content: \"Panel Settings User Information\" }\r\n  ],\r\n});\r\n\r\nconst alertsStore = useAlertsStore();\r\nconst submitLoading = ref<boolean>(false);\r\nconst triggerReset = ref<boolean>(false);\r\nconst allRoles = ref<string[] | undefined>(undefined);\r\nconst allClasses = ref<ClassData[] | undefined>(undefined);\r\n\r\nconst oldUserData = ref<{ loaded: boolean, profilePicture: string; name: string, surname: string, email: string, password: string, abbreviation: string, role: string, classes: number[]}>( {\r\n  loaded: false,\r\n  profilePicture: \"\",\r\n  name: \"\",\r\n  surname: \"\",\r\n  email: \"\",\r\n  password: \"\",\r\n  abbreviation: \"\",\r\n  role: \"\",\r\n  classes: [],\r\n});\r\n\r\nconst newUserData = ref<{ profilePicture: File | undefined; name: string | undefined, surname: string | undefined, email: string | undefined, password: string | undefined, abbreviation: string | undefined, role: string | undefined, classes: number[] | undefined}>({\r\n  profilePicture: undefined,\r\n  name: undefined,\r\n  surname: undefined,\r\n  email: undefined,\r\n  password: undefined,\r\n  abbreviation: undefined,\r\n  role: undefined,\r\n  classes: undefined,\r\n});\r\nconst onFullNameUpdate = (fullName: { name: string | undefined, surname: string | undefined }): void => {\r\n  newUserData.value.name = fullName.name;\r\n  newUserData.value.surname = fullName.surname;\r\n};\r\n\r\nconst onEmailUpdate = (data: { email: string | undefined }): void => {\r\n  newUserData.value.email = data.email;\r\n};\r\n\r\nconst onPasswordUpdate = (data: { password: string | undefined }): void => {\r\n  newUserData.value.password = data.password;\r\n};\r\n\r\nconst onAbbreviationUpdate = (data: { abbreviation: string | undefined }): void => {\r\n  newUserData.value.abbreviation = data.abbreviation;\r\n};\r\n\r\nconst onRoleUpdate = (data: { role: string | undefined }): void => {\r\n  newUserData.value.role = data.role;\r\n};\r\n\r\nconst onClassUpdate = (data: { classes: number[] | undefined }): void => {\r\n  newUserData.value.classes = data.classes;\r\n};\r\n\r\nconst onProfilePictureUpdate = (updatedUserData: { profilePicture: File | undefined }): void => {\r\n  newUserData.value.profilePicture = updatedUserData.profilePicture;\r\n};\r\n\r\nconst resetUserData = (): void => {\r\n  newUserData.value = {\r\n    profilePicture: undefined,\r\n    name: undefined,\r\n    surname: undefined,\r\n    email: undefined,\r\n    password: undefined,\r\n    abbreviation: undefined,\r\n    role: undefined,\r\n    classes: undefined,\r\n  };\r\n\r\n  triggerReset.value = true;\r\n\r\n  setTimeout((): void => {\r\n    triggerReset.value = false;\r\n  }, 100);\r\n};\r\n\r\nconst updateUser = async (): Promise<void> => {\r\n  submitLoading.value = true;\r\n\r\n  const updateUserForm: FormData = new FormData();\r\n\r\n  if (newUserData.value.profilePicture) updateUserForm.append(\"profilePicture\", newUserData.value.profilePicture);\r\n  if (newUserData.value.name) updateUserForm.append(\"name\", newUserData.value.name);\r\n  if (newUserData.value.surname) updateUserForm.append(\"surname\", newUserData.value.surname);\r\n  if (newUserData.value.email) updateUserForm.append(\"email\", newUserData.value.email);\r\n  if (newUserData.value.abbreviation) updateUserForm.append(\"abbreviation\", newUserData.value.abbreviation);\r\n  if (newUserData.value.role) updateUserForm.append(\"role\", newUserData.value.role);\r\n  if (newUserData.value.classes) updateUserForm.append(\"idClass\", JSON.stringify(newUserData.value.classes));\r\n  updateUserForm.append(\"idUser\", id);\r\n\r\n  await apiFetch(\"/user/update\", {\r\n    method: \"PUT\",\r\n    body: updateUserForm,\r\n    credentials: \"include\",\r\n    ignoreResponseError: true,\r\n    async onResponse({ response }) {\r\n      const resCode: string = response._data.resCode.toString();\r\n\r\n      switch (resCode) {\r\n        case \"2040\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Úprava uživatele\", message: \"Nemáte oprávnění k této akci.\" });\r\n          break;\r\n        case \"2050\":\r\n          alertsStore.addAlert({ type: \"warning\", title: \"Úprava uživatele\", message: \"Nic nebylo zadáno ke změně.\" });\r\n          break;\r\n        case \"2060\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Úprava uživatele\", message: \"Špatné ID uživatele.\" });\r\n          break;\r\n        case \"2070\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Úprava uživatele\", message: \"Zkratka je již používána.\" });\r\n          break;\r\n        case \"2080\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Úprava uživatele\", message: \"Zkratka je příliš dlouhá.\" });\r\n          break;\r\n        case \"2090\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Úprava uživatele\", message: \"Špatný formát e-mailu.\" });\r\n          break;\r\n        case \"2100\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Úprava uživatele\", message: \"E-mail je již používán.\" });\r\n          break;\r\n        case \"2110\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Úprava uživatele\", message: \"E-mail je příliš dlouhý.\" });\r\n          break;\r\n        case \"2120\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Úprava uživatele\", message: \"Špatný formát souboru.\" });\r\n          break;\r\n        case \"2131\":\r\n          alertsStore.addAlert({ type: \"success\", title: \"Úprava uživatele\", message: \"Uživatel byl úspěšně upraven.\" });\r\n\r\n          if (newUserData.value.name) oldUserData.value.name = newUserData.value.name;\r\n          if (newUserData.value.surname) oldUserData.value.surname = newUserData.value.surname;\r\n          if (newUserData.value.email) oldUserData.value.email = newUserData.value.email;\r\n          if (newUserData.value.abbreviation) oldUserData.value.abbreviation = newUserData.value.abbreviation;\r\n          if (newUserData.value.role) oldUserData.value.role = newUserData.value.role;\r\n          if (newUserData.value.classes) oldUserData.value.classes = newUserData.value.classes;\r\n          if (newUserData.value.profilePicture) {\r\n            oldUserData.value.profilePicture = URL.createObjectURL(newUserData.value.profilePicture);\r\n          }\r\n\r\n          resetUserData();\r\n          break;\r\n        default:\r\n          alertsStore.addAlert({ type: \"error\", title: \"Úprava uživatele\", message: \"Nastala neznámá chyba.\" });\r\n          break;\r\n      }\r\n    },\r\n    async onRequestError() {\r\n      alertsStore.addAlert({ type: \"error\", title: \"Úprava uživatele\", message: \"Nastala neznámá chyba.\" });\r\n    },\r\n  }).finally((): void => {\r\n    submitLoading.value = false;\r\n  });\r\n};\r\n\r\nonMounted(async (): Promise<void> => {\r\n  await apiFetch(\"/user/get/roles\", {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    credentials: \"include\",\r\n    ignoreResponseError: true,\r\n    onResponse({ response }) {\r\n      const roles: string[] = response._data.data.roles;\r\n\r\n      allRoles.value = roles || [];\r\n    },\r\n  });\r\n\r\n  await apiFetch(\"/class/get\", {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    credentials: \"include\",\r\n    ignoreResponseError: true,\r\n    onResponse({ response }) {\r\n      const classes: ClassData[] = response._data.data.classes;\r\n\r\n      allClasses.value = classes || [];\r\n    },\r\n  });\r\n\r\n  await apiFetch(`/user/get/id?id=${encodeURIComponent(id)}`, {\r\n    method: \"get\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    credentials: \"include\",\r\n    ignoreResponseError: true,\r\n    async onResponse({ response }) {\r\n      const user: AccountData = response._data.data.user;\r\n\r\n      if (user) {\r\n        oldUserData.value.name = user.name;\r\n        oldUserData.value.surname = user.surname;\r\n        oldUserData.value.email = user.email;\r\n        oldUserData.value.password = \"\";\r\n        oldUserData.value.abbreviation = user.abbreviation || \"\";\r\n        oldUserData.value.role = user.role;\r\n        oldUserData.value.classes = user.idClass;\r\n        oldUserData.value.profilePicture = \"http://89.203.248.163/uploads/profilePictures/\" + user.profilePicture;\r\n      } else {\r\n        await router.push(`/panel/users/${role}/edit`);\r\n        return;\r\n      }\r\n\r\n      oldUserData.value.loaded = true;\r\n    },\r\n  });\r\n});\r\n</script>\r\n\r\n<template>\r\n  <NuxtLayout name=\"panel\" :loading=\"!allRoles || !allClasses || !oldUserData.loaded\">\r\n    <template #header>\r\n      <Navbar :links=\"[\r\n          { name: 'Uživatelé', path: '/panel/users' },\r\n          { name: role, path: '/panel/users/' + role },\r\n          { name: 'Upravení', path: '/panel/users/' + role + '/edit' },\r\n          { name: id, path: '/panel/users/' + role + '/edit' + '/' + id },\r\n      ]\" />\r\n    </template>\r\n\r\n    <template #content>\r\n      <div id=\"settings\">\r\n        <div class=\"content\">\r\n          <div class=\"line page-section no-border\">\r\n            <EditProfilePicture class=\"page-section\" :old-profile-picture=\"oldUserData.profilePicture\" @update=\"onProfilePictureUpdate\" :reset=\"triggerReset\">\r\n              <div class=\"section-head\">\r\n                <h3>\r\n                  Profilová fotka\r\n                  <span class=\"update\" v-show=\"newUserData.profilePicture\">(aktualizováno)</span>\r\n                </h3>\r\n                <p>Zde můžete změnit profilovou fotku uživatele. Nahrajte novou fotku, pokud si přejete aktualizovat stávající obrázek.</p>\r\n              </div>\r\n            </EditProfilePicture>\r\n          </div>\r\n\r\n          <div class=\"line page-section\">\r\n            <EditFullName :old-full-name=\"{ name: oldUserData.name, surname: oldUserData.surname }\" :reset=\"triggerReset\" @update=\"onFullNameUpdate\">\r\n              <div class=\"section-head\">\r\n                <h3>Jméno a příjmení</h3>\r\n                <p>Zadejte nové jméno a příjmení uživatele, pokud je chcete změnit.</p>\r\n              </div>\r\n            </EditFullName>\r\n          </div>\r\n\r\n          <div class=\"line page-section\">\r\n            <EditEmail :old-email=\"oldUserData.email\" :reset=\"triggerReset\" @update=\"onEmailUpdate\">\r\n              <div class=\"section-head\">\r\n                <h3>E-mail <span class=\"update\" v-show=\"newUserData.email\">(aktualizováno)</span></h3>\r\n                <p>Zadejte novou e-mailovou adresu uživatele, pokud ji chcete změnit.</p>\r\n              </div>\r\n            </EditEmail>\r\n          </div>\r\n\r\n          <div class=\"line page-section\">\r\n            <EditPassword type=\"new\" :reset=\"triggerReset\" @update=\"onPasswordUpdate\">\r\n              <div class=\"section-head\">\r\n                <h3>Heslo k účtu <span class=\"update\" v-show=\"newUserData.password\">(aktualizováno)</span></h3>\r\n                <p>Zadejte nové heslo, pokud chcete uživateli změnit přístupové údaje. Heslo musí splňovat bezpečnostní požadavky.</p>\r\n              </div>\r\n            </EditPassword>\r\n          </div>\r\n\r\n          <div class=\"line page-section\">\r\n            <EditRole :roles=\"allRoles || []\" :old-role=\"oldUserData.role\" :reset=\"triggerReset\" @update=\"onRoleUpdate\">\r\n              <div class=\"section-head\">\r\n                <h3>Role <span class=\"update\" v-show=\"newUserData.role\">(aktualizováno)</span></h3>\r\n                <p>Zvolte roli, kterou má uživatel mít. Role určuje oprávnění a možnosti uživatele v systému.</p>\r\n              </div>\r\n            </EditRole>\r\n          </div>\r\n\r\n          <div class=\"line page-section\">\r\n            <EditAbbreviation :full-name=\"{ name: newUserData.name ? newUserData.name : oldUserData.name, surname: newUserData.surname ? newUserData.surname : oldUserData.surname }\" :old-abbreviation=\"oldUserData.abbreviation\" :reset=\"triggerReset\" @update=\"onAbbreviationUpdate\">\r\n              <div class=\"section-head\">\r\n                <h3>Přezdívka <span class=\"update\" v-show=\"newUserData.abbreviation\">(aktualizováno)</span></h3>\r\n                <p>Zadejte novou přezdívku uživatele, pokud ji chcete změnit. Přezdívka slouží jako zkratka jména například pro rychlou identifikaci.</p>\r\n              </div>\r\n            </EditAbbreviation>\r\n          </div>\r\n\r\n          <div class=\"line page-section\">\r\n            <div class=\"section-head\">\r\n              <h3>Třída <span class=\"update\" v-show=\"newUserData.classes\">(aktualizováno)</span></h3>\r\n              <p>Vyberte třídu nebo více tříd, které chcete uživateli přiřadit.</p>\r\n            </div>\r\n\r\n            <EditClass :old-class-ids=\"oldUserData.classes\" :classes=\"allClasses || []\" :reset=\"triggerReset\" @update=\"onClassUpdate\" v-if=\"newUserData.role ? newUserData.role === 'student' : oldUserData.role === 'student'\" />\r\n            <p class=\"error\" v-else>\r\n              Třídy můžete vybírat pouze pokud role uživatele je <strong>student</strong>.\r\n            </p>\r\n          </div>\r\n\r\n          <EditFormFooter :is-loading=\"submitLoading\" :reset-function=\"resetUserData\" :submit-function=\"updateUser\" />\r\n        </div>\r\n\r\n        <Alerts/>\r\n      </div>\r\n    </template>\r\n  </NuxtLayout>\r\n</template>\r\n\r\n<style scoped lang=\"scss\">\r\n#settings {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 30px;\r\n  position: relative;\r\n\r\n  .content {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 35px;\r\n    position: relative;\r\n\r\n    .error {\r\n      color: rgba(var(--error-color), 1);\r\n      font-size: 16px;\r\n    }\r\n\r\n    .page-section {\r\n      border-bottom: 1px solid rgba(var(--border-color), 0.5);\r\n      padding-bottom: 35px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 20px;\r\n\r\n      &.no-border {\r\n        border: none;\r\n        padding-bottom: 0;\r\n      }\r\n    }\r\n\r\n    .section-head {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 10px;\r\n\r\n      h3 {\r\n        font-weight: 600;\r\n        font-size: 20px;\r\n        color: var(--title-color);\r\n      }\r\n\r\n      p {\r\n        color: rgba(var(--description-color), 1);\r\n        font-size: 16px;\r\n      }\r\n\r\n      .update {\r\n        color: rgba(var(--error-color), 1);\r\n      }\r\n    }\r\n\r\n    .password-rules {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 10px;\r\n\r\n      h4 {\r\n        font-weight: 600;\r\n        font-size: 16px;\r\n        color: var(--title-color);\r\n        margin-top: 10px;\r\n      }\r\n\r\n      ul {\r\n        list-style: none;\r\n\r\n        li {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 10px;\r\n          font-size: 16px;\r\n          color: rgba(var(--description-color), 1);\r\n          margin-bottom: 10px;\r\n\r\n          .icon {\r\n            color: rgba(var(--main-color), 1);\r\n            line-height: 0;\r\n          }\r\n        }\r\n\r\n        p {\r\n          display: flex;\r\n          align-items: center;\r\n          gap: 5px;\r\n\r\n          .icon {\r\n            padding-left: 5px;\r\n            color: rgba(var(--success-color), 1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    ::v-deep(.reset-password) {\r\n      flex-direction: column;\r\n    }\r\n\r\n    ::v-deep(.section) {\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n\r\n@media (max-width: 1055px) {\r\n  #settings {\r\n    flex-direction: column;\r\n    gap: 30px;\r\n  }\r\n}\r\n</style>\r\n"],"names":["route","useRoute","router","useRouter","id","role","useHead","alertsStore","useAlertsStore","submitLoading","ref","triggerReset","allRoles","allClasses","oldUserData","newUserData","onFullNameUpdate","fullName","onEmailUpdate","data","onPasswordUpdate","onAbbreviationUpdate","onRoleUpdate","onClassUpdate","onProfilePictureUpdate","updatedUserData","resetUserData","updateUser","updateUserForm","apiFetch","response","onMounted","roles","classes","user"],"mappings":"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"}