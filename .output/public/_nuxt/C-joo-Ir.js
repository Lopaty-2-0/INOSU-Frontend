import T from"./CLz_XDSv.js";import{e as E,r as i,i as I,j as F,k as P,l as Z,w as L,m as $,o as d,a as e,b,d as u,h as r,q as k,c as p,g as z,v as h,t as v,u as x,F as q,p as H,x as M,_ as J}from"./J7-yQi-K.js";import{N as G}from"./CR_H3JQR.js";import{u as K,_ as Q}from"./CKKYFl9L.js";/* empty css        */import{A as W}from"./Cizgxft2.js";import{a as R}from"./C0hwI7pc.js";import{L as X}from"./Qpf0i4a6.js";import{u as Y}from"./PCjTfg1e.js";import"./BZ59wu3D.js";import"./CtpsiGFq.js";import"./C6MNyRTM.js";import"./DxXzBOxs.js";const ee={id:"classes"},ae={class:"content"},te={class:"form"},le={class:"section"},oe={class:"section-head"},ne={class:"update"},se={class:"content"},re={key:0,class:"input-error"},ie={class:"section"},de={class:"section-head"},ue={class:"update"},pe={class:"content"},ve={class:"search"},ce={for:"searchName"},me={for:"searchAbbreviation"},ye={for:"searchLengthOfStudy"},ge={class:"dropdown"},be={class:"dropdown-content"},ke=["onClick"],he={key:0,class:"name"},_e={class:"uppercase"},fe={key:1,class:"item error"},ze={key:0,class:"input-error"},Ve={class:"section"},Se={class:"section-head"},Ae={class:"update"},Ne={class:"content"},Ce={key:0,class:"input-error"},we={class:"section"},Le={class:"section-head"},xe={class:"update"},Re={class:"content"},je={key:0,class:"input-error"},Ue={class:"buttons"},Be=E({__name:"add",setup(De){Y({title:"Panel | Třídy - Přidání",meta:[{name:"description",content:"Panel Homepage"}]});const n=K(),N=i(!1),t=i({name:"",grade:null,group:"",specialization:null}),l=i({name:"",grade:"",group:"",specialization:""}),V=i([]),c=i(null),m=i(!1),_=i(""),y=i(null),g=i(""),S={select:"material-symbols:done-rounded",selected:"material-symbols:close-rounded",open:"material-symbols:arrow-downward-rounded",close:"material-symbols:arrow-upward-rounded"},f=i(""),C=I(()=>V.value.filter(s=>s.name.toLocaleLowerCase().includes(_.value.toLocaleLowerCase())&&(g.value?s.abbreviation.toLocaleLowerCase()===g.value.toLocaleLowerCase():!0)&&(y.value?s.lengthOfStudy===y.value:!0))),j=()=>{m.value=!m.value},U=()=>{c.value=null,t.value={name:"",grade:null,group:"",specialization:null},l.value={name:"",grade:"",group:"",specialization:""},g.value="",y.value=null,_.value="",f.value="",m.value=!1},B=s=>{if(s.id===c.value){c.value=null,t.value.specialization=null,f.value="";return}c.value=s.id,t.value.specialization=s.id,f.value=`${s.name} - ${s.abbreviation.toUpperCase()} - Délka studia (roky): ${s.lengthOfStudy}`,A()},A=()=>{l.value.name="",l.value.grade="",l.value.group="",l.value.specialization="",t.value.name.length<1&&(l.value.name="Název třídy je povinný."),!t.value.grade||t.value.grade<1?l.value.grade="Ročník třídy je povinný.":t.value.grade<1&&(l.value.grade="Ročník třídy musí být větší než 0."),t.value.group.length<1?l.value.group="Skupina třídy je povinná.":t.value.group.length>1&&(l.value.group="Skupina třídy musí být maximálně 1 znak."),t.value.specialization===null&&(l.value.specialization="Zaměření třídy je povinné.")},D=async()=>{if(!t.value.specialization||!t.value.group||!t.value.grade||!t.value.name){n.addAlert({type:"error",title:"Vytvoření třídy",message:"Některá pole jsou prázdná."});return}if(l.value.name.length>0||l.value.grade.length>0||l.value.group.length>0||l.value.specialization.length>0){n.addAlert({type:"error",title:"Vytvoření třídy",message:"Některá pole obsahují chyby."});return}N.value=!0,await R("/class/add",{method:"post",headers:{"Content-Type":"application/json"},body:{name:t.value.name,grade:t.value.grade,group:t.value.group,idSpecialization:t.value.specialization},ignoreResponseError:!0,credentials:"include",onResponse({response:s}){switch(s._data.resCode.toString()){case"8010":n.addAlert({type:"error",title:"Vytvoření třídy",message:"Nemáte oprávnění k této akci."});break;case"8020":n.addAlert({type:"error",title:"Vytvoření třídy",message:"Ročník chybí."});break;case"8030":n.addAlert({type:"error",title:"Vytvoření třídy",message:"Skupina chybí."});break;case"8040":n.addAlert({type:"error",title:"Vytvoření třídy",message:"Zaměření chybí."});break;case"8050":n.addAlert({type:"error",title:"Vytvoření třídy",message:"Název třídy chybí."});break;case"8060":n.addAlert({type:"error",title:"Vytvoření třídy",message:"Ročník musí být celé číslo."});break;case"8070":n.addAlert({type:"error",title:"Vytvoření třídy",message:"Skupina může mít maximálně 1 znak."});break;case"8080":n.addAlert({type:"error",title:"Vytvoření třídy",message:"Neplatné zaměření."});break;case"8090":n.addAlert({type:"error",title:"Vytvoření třídy",message:"Ročník přesahuje délku studia zaměření."});break;case"8100":n.addAlert({type:"error",title:"Vytvoření třídy",message:"Název třídy je již používán."});break;case"8111":n.addAlert({type:"success",title:"Vytvoření třídy",message:"Třída byla úspěšně vytvořena."}),t.value.name="",t.value.grade=null,t.value.group="",t.value.specialization=null,c.value=null,f.value="",_.value="",y.value=null,g.value="",l.value.name="",l.value.grade="",l.value.group="",l.value.specialization="",m.value=!1;break;default:n.addAlert({type:"error",title:"Vytvoření třídy",message:"Nastala neznámá chyba."});break}},onRequestError(){n.addAlert({type:"error",title:"Vytvoření třídy",message:"Nastala neznámá chyba."})}}).finally(()=>{N.value=!1})};return F(async()=>{await R("/specialization/get",{method:"get",headers:{"Content-Type":"application/json"},credentials:"include",ignoreResponseError:!0,onResponse({response:s}){const a=s._data.data.specializations;V.value=a||[]}})}),(s,a)=>{const w=T,O=$;return d(),P(O,{name:"panel",loading:!V.value},Z({header:L(()=>[b(G,{links:[{name:"Třídy",path:"/panel/classes"},{name:"Vytvoření",path:"/panel/classes/add"}]})]),_:2},[V.value?{name:"content",fn:L(()=>[e("div",ee,[e("div",ae,[b(W,{class:"action-bar",description:"Správa tříd",texts:["Přidat","Odebrat"],actions:["add","remove"],icons:["material-symbols:add-rounded","material-symbols:delete-rounded"],active:0,"navigate-to":["/panel/classes/add","/panel/classes/remove"]}),e("div",te,[e("div",le,[e("div",oe,[e("h3",null,[a[6]||(a[6]=u("Název * ")),r(e("span",ne,"(aktualizováno)",512),[[k,t.value.name]])]),a[7]||(a[7]=e("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit.",-1))]),e("div",se,[a[8]||(a[8]=e("label",{for:"name"},"Název",-1)),r(e("input",{type:"text",id:"name",placeholder:"V1B-ANJ1","onUpdate:modelValue":a[0]||(a[0]=o=>t.value.name=o),onInput:A},null,544),[[h,t.value.name]]),l.value.name.length>0?(d(),p("p",re,v(l.value.name),1)):z("",!0)])]),e("div",ie,[e("div",de,[e("h3",null,[a[9]||(a[9]=u("Zaměření * ")),r(e("span",ue,"(aktualizováno)",512),[[k,t.value.specialization]])]),a[10]||(a[10]=e("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit.",-1))]),e("div",pe,[e("div",ve,[e("label",ce,[a[11]||(a[11]=u(" Název ")),r(e("input",{id:"searchName",placeholder:"Vyhledat název","onUpdate:modelValue":a[1]||(a[1]=o=>_.value=o)},null,512),[[h,_.value]])]),e("label",me,[a[12]||(a[12]=u(" Zkratka ")),r(e("input",{id:"searchAbbreviation",placeholder:"V","onUpdate:modelValue":a[2]||(a[2]=o=>g.value=o)},null,512),[[h,g.value]])]),e("label",ye,[a[13]||(a[13]=u(" Délka studia ")),r(e("input",{id:"searchLengthOfStudy",min:"1",max:"10",placeholder:"3",type:"number","onUpdate:modelValue":a[3]||(a[3]=o=>y.value=o)},null,512),[[h,y.value]])])]),a[15]||(a[15]=e("label",null,"Výběr zaměření",-1)),e("div",ge,[e("div",{class:"title",onClick:j},[e("p",null,v(f.value||"Vyberte zaměření"),1),b(w,{class:"icon",name:m.value?S.close:S.open},null,8,["name"])]),r(e("div",be,[x(C).length>0?(d(!0),p(q,{key:0},H(x(C),o=>(d(),p("div",{key:o.id,class:M(["item",{selected:c.value===o.id}]),onClick:()=>B(o)},[b(w,{class:"icon",name:c.value===o.id?S.select:S.selected},null,8,["name"]),e("span",null,[o.name?(d(),p("span",he,v(o.name+" - "),1)):z("",!0),e("span",_e,v(o.abbreviation+" - "),1),e("span",null,"Délka studia (roky): "+v(o.lengthOfStudy),1)])],10,ke))),128)):(d(),p("div",fe,a[14]||(a[14]=[e("p",null,"Žádné zaměření nebylo nalezeno.",-1)])))],512),[[k,m.value]])]),l.value.specialization.length>0?(d(),p("p",ze,v(l.value.specialization),1)):z("",!0)])]),e("div",Ve,[e("div",Se,[e("h3",null,[a[16]||(a[16]=u("Ročník * ")),r(e("span",Ae,"(aktualizováno)",512),[[k,t.value.grade]])]),a[17]||(a[17]=e("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit.",-1))]),e("div",Ne,[a[18]||(a[18]=e("label",{for:"grade"},"Ročník",-1)),r(e("input",{type:"number",id:"grade",placeholder:"1",min:"1","onUpdate:modelValue":a[4]||(a[4]=o=>t.value.grade=o),onInput:A},null,544),[[h,t.value.grade]]),l.value.grade.length>0?(d(),p("p",Ce,v(l.value.grade),1)):z("",!0)])]),e("div",we,[e("div",Le,[e("h3",null,[a[19]||(a[19]=u("Skupina * ")),r(e("span",xe,"(aktualizováno)",512),[[k,t.value.group]])]),a[20]||(a[20]=e("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit.",-1))]),e("div",Re,[a[21]||(a[21]=e("label",{for:"group"},"Skupina",-1)),r(e("input",{type:"text",id:"group",placeholder:"A","onUpdate:modelValue":a[5]||(a[5]=o=>t.value.group=o),onInput:A},null,544),[[h,t.value.group]]),l.value.group.length>0?(d(),p("p",je,v(l.value.group),1)):z("",!0)])])]),e("div",Ue,[e("button",{type:"submit",onClick:D},[a[22]||(a[22]=u(" Uložit změny ")),r(b(X,{size:"5px",color:"var(--actionBar-actions-remove-color)"},null,512),[[k,N.value]])]),e("button",{type:"reset",onClick:U}," Resetovat změny ")])])]),b(Q)]),key:"0"}:void 0]),1032,["loading"])}}}),Ke=J(Be,[["__scopeId","data-v-4dab8dfb"]]);export{Ke as default};
//# sourceMappingURL=C-joo-Ir.js.map
