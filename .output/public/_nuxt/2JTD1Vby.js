import{h as G}from"./C5S46NFB.js";import{e as $,r as p,A as b,c as v,o as g,F as I,p as O,x as z,a as n,t as P,d as _,u as M,n as N,_ as B,b as A,g as U}from"./BOTJj54N.js";import V from"./CifvRPEO.js";const D=(d,f)=>{const i=[];for(let s=0;s<d.length;s+=f)i.push(d.slice(s,s+f));return i},Y={class:"users-grid"},q={key:0,class:"all-users"},w=["onClick"],E={class:"user"},F={class:"head"},S=["src"],T={class:"info"},L={key:1,class:"error message"},Z=$({__name:"Grid",props:{users:{type:Array,default:()=>[]},action:{type:String,default:"list"},activePage:{type:Number,default:0,required:!0},usersPerPage:{type:Number,default:12,required:!0},reset:{type:Boolean,default:!1}},emits:["get:numberOfPages","get:selectedUsers"],setup(d,{emit:f}){const i=d,s=f,a=p(0),e=p([]),o=p([]),t=l=>{switch(i.action){case"list":N(`mailto:${l.email}`,{external:!0});break;case"edit":N(`/panel/users/${l.role}/edit/${l.id}`);break;case"remove":o.value=o.value.includes(l)?o.value.filter(u=>u.id!==l.id):[...o.value,l],s("get:selectedUsers",o.value);break}};return b(()=>i.users,l=>{e.value=D(l,i.usersPerPage),a.value=Math.ceil(l.length/i.usersPerPage),s("get:numberOfPages",a.value)},{immediate:!0}),b(()=>i.reset,l=>{l&&(o.value=[],s("get:selectedUsers",o.value))},{immediate:!0}),(l,u)=>(g(),v("div",Y,[d.users.length>0?(g(),v("div",q,[(g(!0),v(I,null,O(e.value[i.activePage],r=>(g(),v("div",{key:r.id,class:z(["card",{[i.action]:!0,selected:o.value.includes(r)}]),onClick:y=>t(r)},[n("div",E,[n("div",F,[n("img",{src:"http://89.203.248.163/uploads/profilePictures/"+r.profilePicture,alt:"User profile photo",loading:"lazy"},null,8,S),n("h3",null,P(r.name)+" "+P(r.surname),1)]),n("div",T,[n("p",null,[u[0]||(u[0]=_(" E-mail: ")),n("span",null,P(r.email),1)]),n("p",null,[u[1]||(u[1]=_(" Přezdívka: ")),n("span",null,P(r.abbreviation||"Není"),1)]),n("p",null,[u[2]||(u[2]=_(" Vytvořen: ")),n("span",null,P(M(G)(r.createdAt).format("DD. MM. YYYY")),1)])])])],10,w))),128))])):(g(),v("p",L,"Žádný uživatel nebyl zobrazen!"))]))}}),ee=B(Z,[["__scopeId","data-v-df309793"]]),j={class:"navigation"},H={class:"pages"},J=["onClick"],K=$({__name:"Navigation",props:{numberOfPages:{type:Number,required:!0,default:0}},emits:["get:activePage"],setup(d,{emit:f}){const i=d,s=f,a=p(0),e=p(0),o=p([]),t=p([]),l=()=>{if(t.value.length<=0)return;const c=t.value[e.value][0];a.value>c&&a.value>0?(a.value--,s("get:activePage",a.value)):e.value>0&&C()},u=()=>{if(t.value.length<=0)return;const c=t.value[e.value].length-1,m=t.value[e.value][c];a.value<m?(a.value++,s("get:activePage",a.value)):e.value<t.value.length-1&&x()},r=c=>{e.value=c},y=c=>{a.value=c,s("get:activePage",a.value)},x=()=>{e.value<t.value.length-1&&(e.value++,a.value=t.value[e.value][0],s("get:activePage",a.value))},C=()=>{e.value>0&&(e.value--,a.value=t.value[e.value][t.value[e.value].length-1],s("get:activePage",a.value))};return b(()=>i.numberOfPages,c=>{c?(o.value=Array.from({length:Math.ceil(i.numberOfPages)},(m,h)=>h),t.value=D(o.value,3),r(0),y(0)):(o.value=[],t.value=[],a.value=0,e.value=0)},{immediate:!0}),(c,m)=>{const h=V;return g(),v("div",j,[n("button",{class:"back",onClick:l},[A(h,{class:"icon",name:"material-symbols:arrow-left-alt-rounded"}),m[0]||(m[0]=_(" Zpět "))]),n("ul",H,[e.value>0?(g(),v("li",{key:0,class:"page",onClick:C}," ... ")):U("",!0),(g(!0),v(I,null,O(t.value[e.value],k=>(g(),v("li",{key:k,class:z({page:!0,active:k===a.value}),onClick:Q=>y(k)},P(k+1),11,J))),128)),e.value<t.value.length-1?(g(),v("li",{key:1,class:"page",onClick:x}," ... ")):U("",!0)]),n("button",{class:"next",onClick:u},[m[1]||(m[1]=_(" Další ")),A(h,{class:"icon",name:"material-symbols:arrow-right-alt-rounded"})])])}}}),ae=B(K,[["__scopeId","data-v-de607765"]]);export{ae as G,ee as U};
//# sourceMappingURL=2JTD1Vby.js.map
