import x from"./dFJnGj4t.js";import{e as U,z as k,r as i,j as P,k as f,l as C,w as h,m as I,o as g,a as t,g as N,u as l,t as w,h as R,b as d,v as G,_ as S}from"./DFLv1YV6.js";import{N as B}from"./gU5XJUlO.js";import{a as V}from"./BUVrFq-o.js";import{A as j}from"./Czmg5iyQ.js";import{U as A,G as D}from"./CNy-T8Hj.js";import{c as E}from"./BjNiqJ6X.js";import{u as L}from"./CZ6KBkoC.js";import"./COvE1TAq.js";import"./DzoiDIvV.js";import"./C2O9fF6a.js";import"./CJYBnIlQ.js";import"./XGKoS8Uj.js";import"./C5S46NFB.js";const O={id:"users"},T={class:"content"},$={class:"line"},z={class:"section-head"},H={class:"search"},M={class:"users"},F=U({__name:"index",setup(Z){const o=k().params.role;L({title:"Panel | Uživatelé - "+o,meta:[{name:"description",content:"Panel Settings User Information"}]});const n=i(null),p=i(0),v=i(0),m=i(""),u=i([]),b=()=>{const c=m.value.split(" "),e=[];n.value&&(n.value.forEach(a=>{[a.name,a.surname,a.email,a.abbreviation||""].some(s=>{let _=!1;return c.forEach(y=>{_=s.toLowerCase().includes(y.toLowerCase())}),_})&&e.push(a)}),u.value=e)};return P(async()=>{await V(`/user/get/role?role=${encodeURIComponent(o)}`,{method:"get",headers:{"Content-Type":"application/json"},credentials:"include",ignoreResponseError:!0,onResponse({response:c}){var a,r;const e=((r=(a=c._data)==null?void 0:a.data)==null?void 0:r.users)||[];n.value=e,u.value=[...e]}})}),(c,e)=>{const a=x,r=I;return g(),f(r,{name:"panel",loading:!n.value},C({header:h(()=>[d(B,{links:[{name:"Uživatelé",path:"/panel/users"},{name:l(o),path:"/panel/users/"+l(o)}]},null,8,["links"])]),_:2},[n.value?{name:"content",fn:h(()=>[t("div",O,[t("div",T,[l(E)(["admin"])?(g(),f(j,{key:0,class:"action-bar",description:"Správa uživatelů",texts:["Přidat","Upravit","Odebrat"],icons:["material-symbols:add-rounded","material-symbols:edit-rounded","material-symbols:delete-rounded"],"navigate-to":["/panel/users/add",`/panel/users/${l(o)}/edit`,`/panel/users/${l(o)}/remove`]},null,8,["navigate-to"])):N("",!0),t("div",$,[t("div",z,[t("h3",null,"Celkem uživatelů: "+w(u.value.length),1),e[3]||(e[3]=t("p",null,"Zde vidíte uživatele dané role. Použijte vyhledávání pro rychlé filtrování seznamu.",-1))]),t("div",H,[R(t("input",{type:"text",name:"searchInput",placeholder:"Hledat uživatele",onInput:b,"onUpdate:modelValue":e[0]||(e[0]=s=>m.value=s)},null,544),[[G,m.value]]),d(a,{class:"icon",name:"material-symbols:search-rounded"})])]),t("div",M,[d(A,{users:u.value,"users-per-page":12,action:"list","active-page":v.value,"onGet:numberOfPages":e[1]||(e[1]=s=>p.value=s)},null,8,["users","active-page"]),d(D,{class:"users-navigation","number-of-pages":p.value,"onGet:activePage":e[2]||(e[2]=s=>v.value=s)},null,8,["number-of-pages"])])])])]),key:"0"}:void 0]),1032,["loading"])}}}),le=S(F,[["__scopeId","data-v-bf373625"]]);export{le as default};
//# sourceMappingURL=IR8tEalL.js.map
