import{e as j,r,j as P,k as A,w as z,m as N,o as d,a as e,b as u,d as m,h as s,q as p,c as b,g as y,v as h,t as g,_ as x}from"./qt0h0kFv.js";import{N as Z}from"./2dFQOzvg.js";import{u as C,_ as V}from"./fzoHn8T8.js";/* empty css        */import{A as D}from"./ndivdKBF.js";import{a as f}from"./CI6GBMjg.js";import{L as w}from"./CI2UeAAB.js";import{u as B}from"./KD0uSQAu.js";import"./BOQHfSiJ.js";import"./DgTH69TZ.js";import"./DjacMGf3.js";import"./DZFHCepi.js";import"./DlhrDTwY.js";const I={id:"specializations"},R={class:"content"},E={class:"form"},T={class:"section"},U={class:"section-head"},L={class:"update"},M={class:"content"},q={key:0,class:"input-error"},F={class:"section"},H={class:"section-head"},G={class:"update"},J={class:"content"},K={key:0,class:"input-error"},Q={class:"section"},W={class:"section-head"},X={class:"update"},Y={class:"content"},$={key:0,class:"input-error"},ee={class:"buttons"},te=j({__name:"add",setup(ae){B({title:"Panel | Zaměření - Přidání",meta:[{name:"description",content:"Panel Homepage"}]});const o=C(),v=r(!1),a=r({name:"",lengthOfStudy:null,abbreviation:""}),n=r({name:"",lengthOfStudy:"",abbreviation:""}),_=r([]),c=()=>{n.value.name="",n.value.lengthOfStudy="",n.value.abbreviation="",a.value.name.length<1&&(n.value.name="Název třídy je povinný."),a.value.lengthOfStudy===null?n.value.lengthOfStudy="Délka studia je povinná.":a.value.lengthOfStudy<1&&(n.value.lengthOfStudy="Délka studia musí být větší než 0."),a.value.abbreviation.length<1?n.value.abbreviation="Zkratka zaměření je povinná.":a.value.abbreviation.length>1&&(n.value.abbreviation="Zkratka zaměření může mít maximálně 1 znak.")},k=()=>{a.value.name="",a.value.lengthOfStudy=null,a.value.abbreviation="",n.value.name="",n.value.lengthOfStudy="",n.value.abbreviation=""},S=async()=>{if(a.value.name.length<1||a.value.lengthOfStudy===null||a.value.abbreviation.length<1){o.addAlert({type:"error",title:"Přidání zaměření",message:"Vyplňte všechna povinná pole."});return}if(n.value.name.length>0||n.value.lengthOfStudy.length>0||n.value.abbreviation.length>0){o.addAlert({type:"error",title:"Přidání zaměření",message:"Opravte chyby ve formuláři."});return}v.value=!0,await f("/specialization/add",{method:"post",headers:{"Content-Type":"application/json"},body:{name:a.value.name,lengthOfStudy:a.value.lengthOfStudy,abbreviation:a.value.abbreviation},ignoreResponseError:!0,credentials:"include",onResponse({response:i}){switch(i._data.resCode.toString()){case"4010":o.addAlert({type:"error",title:"Přidání zaměření",message:"Nemáte oprávnění k této akci."});break;case"4020":o.addAlert({type:"error",title:"Přidání zaměření",message:"Délka studia chybí."});break;case"4030":o.addAlert({type:"error",title:"Přidání zaměření",message:"Délka studia musí být celé číslo."});break;case"4040":o.addAlert({type:"error",title:"Přidání zaměření",message:"Zkratka zaměření chybí."});break;case"4050":o.addAlert({type:"error",title:"Přidání zaměření",message:"Zkratka zaměření je příliš dlouhá."});break;case"4060":o.addAlert({type:"error",title:"Přidání zaměření",message:"Zkratka zaměření je již používána."});break;case"4070":o.addAlert({type:"error",title:"Přidání zaměření",message:"Název zaměření chybí."});break;case"4080":o.addAlert({type:"error",title:"Přidání zaměření",message:"Název zaměření je příliš dlouhý."});break;case"4090":o.addAlert({type:"error",title:"Přidání zaměření",message:"Název zaměření je již používán."});break;case"4101":o.addAlert({type:"success",title:"Přidání zaměření",message:"Zaměření bylo úspěšně vytvořeno."}),k();break;default:o.addAlert({type:"error",title:"Přidání zaměření",message:"Nastala neznámá chyba."});break}},onRequestError(){o.addAlert({type:"error",title:"Přidání zaměření",message:"Nastala neznámá chyba."})}}).finally(()=>{v.value=!1})};return P(async()=>{await f("/specialization/get",{method:"get",headers:{"Content-Type":"application/json"},credentials:"include",ignoreResponseError:!0,onResponse({response:i}){const t=i._data.data.specializations;_.value=t||[]}})}),(i,t)=>{const O=N;return d(),A(O,{name:"panel"},{header:z(()=>[u(Z,{links:[{name:"Zaměření",path:"/panel/specializations"},{name:"Vytvoření",path:"/panel/specializations/add"}]})]),content:z(()=>[e("div",I,[e("div",R,[u(D,{class:"action-bar",description:"Správa zaměření",texts:["Přidat","Odebrat"],actions:["add","remove"],icons:["material-symbols:add-rounded","material-symbols:delete-rounded"],active:0,"navigate-to":["/panel/specializations/add","/panel/specializations/remove"]}),e("div",E,[e("div",T,[e("div",U,[e("h3",null,[t[3]||(t[3]=m("Název * ")),s(e("span",L,"(aktualizováno)",512),[[p,a.value.name]])]),t[4]||(t[4]=e("p",null,"Zadejte název zaměření, které chcete přidat. Název musí být jedinečný.",-1))]),e("div",M,[t[5]||(t[5]=e("label",{for:"name"},"Název",-1)),s(e("input",{type:"text",id:"name",placeholder:"Informační technologie","onUpdate:modelValue":t[0]||(t[0]=l=>a.value.name=l),onInput:c},null,544),[[h,a.value.name]]),n.value.name.length>0?(d(),b("p",q,g(n.value.name),1)):y("",!0)])]),e("div",F,[e("div",H,[e("h3",null,[t[6]||(t[6]=m("Zkratka * ")),s(e("span",G,"(aktualizováno)",512),[[p,a.value.abbreviation]])]),t[7]||(t[7]=e("p",null,"Zadejte jednopísmennou zkratku zaměření. Zkratka musí být unikátní.",-1))]),e("div",J,[t[8]||(t[8]=e("label",{for:"abbreviation"},"Zkratka",-1)),s(e("input",{type:"text",id:"abbreviation",placeholder:"V","onUpdate:modelValue":t[1]||(t[1]=l=>a.value.abbreviation=l),onInput:c},null,544),[[h,a.value.abbreviation]]),n.value.abbreviation.length>0?(d(),b("p",K,g(n.value.abbreviation),1)):y("",!0)])]),e("div",Q,[e("div",W,[e("h3",null,[t[9]||(t[9]=m("Délka studia * ")),s(e("span",X,"(aktualizováno)",512),[[p,a.value.lengthOfStudy]])]),t[10]||(t[10]=e("p",null,"Zadejte délku studia v letech. Minimální hodnota je 1 rok.",-1))]),e("div",Y,[t[11]||(t[11]=e("label",{for:"lengthOfStudy"},"Délka studia",-1)),s(e("input",{type:"number",id:"lengthOfStudy",placeholder:"1",min:"1","onUpdate:modelValue":t[2]||(t[2]=l=>a.value.lengthOfStudy=l),onInput:c},null,544),[[h,a.value.lengthOfStudy]]),n.value.lengthOfStudy.length>0?(d(),b("p",$,g(n.value.lengthOfStudy),1)):y("",!0)])])]),e("div",ee,[e("button",{type:"submit",onClick:S},[t[12]||(t[12]=m(" Uložit změny ")),s(u(w,{size:"5px",color:"var(--actionBar-actions-remove-color)"},null,512),[[p,v.value]])]),e("button",{type:"reset",onClick:k}," Resetovat změny ")])])]),u(V)]),_:1})}}}),ye=x(te,[["__scopeId","data-v-b91131d2"]]);export{ye as default};
//# sourceMappingURL=NBuNFnJu.js.map
