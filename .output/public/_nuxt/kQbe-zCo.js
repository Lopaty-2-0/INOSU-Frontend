import f from"./D0YqDxnM.js";import{_ as y}from"./Z5wW8-57.js";import{e as g,z as D,r as m,j as x,k as b,l as $,w as n,m as w,o as M,a as e,b as r,u as a,h as N,v as Y,t as c,n as H,_ as I}from"./CUZeRvXC.js";import{N as T}from"./DCknVipl.js";import{W as V}from"./DX0GD6l3.js";/* empty css        */import{a as z}from"./CkL4TXxs.js";import{u as A}from"./Db-zqWpw.js";import{m as u}from"./qbsqZPAI.js";import{N as C}from"./C0GUIwSb.js";import"./BggygjHh.js";import"./DaNuMFcU.js";import"./CnmWWN_2.js";import"./Bz2aGY34.js";import"./DU8lQhTt.js";const S={id:"tasks"},R={class:"content"},B={class:"line"},U={class:"line"},Z={class:"line"},O={class:"search"},P=["href"],W={class:"actions"},j=["onClick"],E=g({__name:"index",setup(F){A({title:"Panel | Vaše úkoly",meta:[{name:"description",content:"Panel Homepage"}]});const s=D().params.role,_=m([{field:"id",title:"ID",width:"90px",type:"number"},{field:"name",title:"Název",type:"string"},{field:"startDate",title:"Začátek",type:"date"},{field:"endDate",title:"Konec",type:"date"},{field:"task",title:"Zadání",type:"string"},{field:"actions",title:"Akce"}]),p=m(void 0),d=m(""),v=async i=>{i&&await H(`/panel/tasks/${s}/${i}`)};return x(async()=>{await z(`/user_task/get/status?status=${encodeURIComponent(JSON.stringify(["approved"]))}&which=1`,{method:"get",credentials:"include",ignoreResponseError:!0,onResponse({response:i}){const o=(i._data.data.elaboratingTasks||[]).filter(l=>!l.review).map(l=>({...l,id:l.idTask}))||[];p.value=o||[]}})}),(i,o)=>{const l=f,k=y,h=w;return M(),b(h,{name:"panel",loading:!p.value},$({header:n(()=>[r(T,{links:[{name:"Úkoly",path:`/panel/tasks/${a(s)}`},{name:"Aktivní",path:`/panel/tasks/${a(s)}`}]},null,8,["links"])]),_:2},[p.value?{name:"content",fn:n(()=>[e("div",S,[e("div",R,[e("div",B,[r(C,{class:"navigation",title:"Úkoly","active-link-id":0,links:[{name:"Aktivní",path:`/panel/tasks/${a(s)}`},{name:"Dostupné",path:`/panel/tasks/${a(s)}/available`},{name:"Stav úkolů",path:`/panel/tasks/${a(s)}/status`},{name:"Vyhodnocené",path:`/panel/tasks/${a(s)}/evaluated`}]},null,8,["links"]),e("div",U,[e("div",Z,[o[1]||(o[1]=e("div",{class:"section-head"},[e("h3",null,"Vaše úkoly"),e("p",null,"Zde naleznete seznam všech vašich aktuálně aktivních úkolů.")],-1)),e("div",O,[N(e("input",{type:"text",name:"searchInput",placeholder:"Hledat úkol","onUpdate:modelValue":o[0]||(o[0]=t=>d.value=t)},null,512),[[Y,d.value]]),r(l,{class:"icon",name:"material-symbols:search-rounded"})])]),r(a(V),{rows:p.value,columns:_.value,pageSize:10,sortable:!0,search:d.value},{task:n(t=>[e("a",{href:`http://89.203.248.163/uploads/tasks/${t.value.id}/${t.value.task}`,class:"link",download:"",target:"_blank"},c(t.value.task),9,P)]),startDate:n(t=>[e("p",null,c(a(u)(t.value.startDate).format("DD.MM. YYYY HH:MM")),1)]),endDate:n(t=>[e("p",null,c(a(u)(t.value.endDate).format("DD.MM. YYYY HH:MM")),1)]),approve:n(t=>[e("p",null,c(t.value.approve?"Ano":"Ne"),1)]),actions:n(t=>[e("div",W,[e("button",{type:"button",class:"primary",onClick:K=>v(t.value.id)},"Otevřít",8,j)])]),_:1},8,["rows","columns","search"])])])])]),r(k)]),key:"0"}:void 0]),1032,["loading"])}}}),ce=I(E,[["__scopeId","data-v-186e36bb"]]);export{ce as default};
//# sourceMappingURL=kQbe-zCo.js.map
