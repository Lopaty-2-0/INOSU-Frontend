{"version":3,"file":"o5xrRonT.js","sources":["../../../../pages/panel/tasks/teacher/[taskId]/[userId].vue"],"sourcesContent":["<script setup lang=\"ts\">\r\nimport Navbar from \"~/components/Navbar.vue\";\r\nimport apiFetch from \"~/componsables/apiFetch\";\r\nimport {onMounted, ref} from \"vue\";\r\nimport {useRoute, useRouter} from \"#vue-router\";\r\nimport type {TaskData} from \"~/types/tasks\";\r\nimport moment from \"moment/moment\";\r\nimport type {AccountData} from \"~/types/account\";\r\nimport Alerts from \"~/components/Alerts.vue\";\r\nimport { navigateTo } from \"nuxt/app\";\r\nimport EditTaskFile from \"~/components/manage/TaskFile.vue\";\r\nimport EditFormFooter from \"~/components/manage/Footer.vue\";\r\nimport { useAlertsStore } from \"~/stores/alerts\";\r\n\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst taskId = route.params.taskId as string;\r\nconst userId = route.params.userId as string;\r\n\r\nuseHead({\r\n  title: \"Panel | Vypracování úkolu: \" + taskId + \" - uživatelem: \" + userId,\r\n  meta: [{ name: \"description\", content: \"Panel Homepage\" }],\r\n});\r\n\r\ndefinePageMeta({\r\n  roles: [\"teacher\"],\r\n});\r\n\r\nconst alertsStore = useAlertsStore();\r\nconst task = ref<TaskData & { review?: string } | undefined>(undefined);\r\nconst elaborator = ref<AccountData | undefined>(undefined);\r\nconst guarantor = ref<AccountData | undefined>(undefined);\r\nconst taskReviewFile = ref<File | undefined>(undefined);\r\nconst loading = ref<boolean>(false);\r\nconst lastUploadedReviewFileName = ref<string | undefined>(undefined);\r\nconst firstFileName = ref<string | undefined>(undefined);\r\nconst triggerReset = ref<boolean>(false);\r\n\r\nconst reset = (): void => {\r\n  if (task.value) task.value.review = firstFileName.value;\r\n  taskReviewFile.value = undefined;\r\n};\r\n\r\nconst removeFile = (): void => {\r\n  lastUploadedReviewFileName.value = undefined;\r\n  taskReviewFile.value = undefined;\r\n\r\n  if (task.value) {\r\n    task.value.review = undefined;\r\n  }\r\n\r\n  triggerReset.value = true;\r\n\r\n  setTimeout((): void => {\r\n    triggerReset.value = false;\r\n  }, 100);\r\n};\r\n\r\nconst submit = async (): Promise<void> => {\r\n  loading.value = true;\r\n\r\n  const formData = new FormData();\r\n  formData.append(\"idTask\", taskId);\r\n  formData.append(\"idUser\", userId);\r\n  formData.append(\"review\", taskReviewFile.value || \"\");\r\n\r\n  await apiFetch(\"/user_task/update\", {\r\n    method: \"put\",\r\n    body: formData,\r\n    credentials: \"include\",\r\n    ignoreResponseError: true,\r\n    async onResponse({ response }: any) {\r\n      const resCode: string = response._data.resCode?.toString();\r\n\r\n      switch (resCode) {\r\n        case \"38010\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Hodnocení\", message: \"Nebyl zadán id úkolu.\" });\r\n          break;\r\n        case \"38020\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Hodnocení\", message: \"Uživatel neexistuje.\" });\r\n          break;\r\n        case \"38030\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Hodnocení\", message: \"Úkol neexistuje.\" });\r\n          break;\r\n        case \"38040\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Hodnocení\", message: \"Záznam user_task neexistuje.\" });\r\n          break;\r\n        case \"38050\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Hodnocení\", message: \"Špatný formát souboru (review).\" });\r\n          break;\r\n        case \"38060\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Hodnocení\", message: \"Nelze provést tuto akci (review lze nahrát jen u schváleného úkolu).\" });\r\n          break;\r\n        case \"38070\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Hodnocení\", message: \"Název souboru (review) je příliš dlouhý.\" });\r\n          break;\r\n        case \"38080\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Vypracování\", message: \"Špatný formát souboru (elaboration).\" });\r\n          break;\r\n        case \"38090\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Vypracování\", message: \"Název souboru (elaboration) je příliš dlouhý.\" });\r\n          break;\r\n        case \"38100\":\r\n          alertsStore.addAlert({ type: \"error\", title: \"Hodnocení\", message: \"Nemáte oprávnění.\" });\r\n          break;\r\n        case \"38111\":\r\n          alertsStore.addAlert({ type: \"success\", title: \"Hodnocení\", message: \"Hodnocení bylo úspěšně aktualizováno.\" });\r\n\r\n          if (task.value) {\r\n            task.value.review = taskReviewFile.value?.name || undefined;\r\n            lastUploadedReviewFileName.value = taskReviewFile.value?.name || undefined;\r\n          }\r\n\r\n          taskReviewFile.value = undefined;\r\n          break;\r\n        default:\r\n          alertsStore.addAlert({ type: \"error\", title: \"Hodnocení\", message: \"Nastala neznámá chyba.\" });\r\n          break;\r\n      }\r\n    },\r\n    onRequestError() {\r\n      alertsStore.addAlert({ type: \"error\", title: \"Hodnocení\", message: \"Nastala chyba při odesílání požadavku.\" });\r\n    },\r\n  }).finally(() => {\r\n    loading.value = false;\r\n  });\r\n};\r\n\r\nconst onTaskFileUpdate = (taskFile: File | undefined): void => {\r\n  taskReviewFile.value = taskFile;\r\n};\r\n\r\nonMounted(async (): Promise<void> => {\r\n  try {\r\n    await apiFetch(`/user_task/get/idUser/idTask?idTask=${taskId}&idUser=${userId}`, {\r\n      method: \"get\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      credentials: \"include\",\r\n      async onResponse({ response }) {\r\n        const taskData = response._data.data.task;\r\n        const elaboratorData = response._data.data.task.elaborator as AccountData;\r\n        const guarantorData = response._data.data.task.guarantor as AccountData;\r\n\r\n        if (!taskData || !elaboratorData || !guarantorData) {\r\n          await router.push(`/panel/tasks/teacher`);\r\n          return;\r\n        }\r\n\r\n        task.value = {\r\n          ...taskData,\r\n          id: taskData.idTask,\r\n          review: taskData.review,\r\n        };\r\n        firstFileName.value = task.value?.review;\r\n        elaborator.value = elaboratorData;\r\n        guarantor.value = guarantorData;\r\n      }\r\n    });\r\n  } catch {\r\n    await router.push(`/panel/tasks/teacher`);\r\n    return;\r\n  }\r\n});\r\n</script>\r\n\r\n<template>\r\n  <NuxtLayout name=\"panel\" :loading=\"!task || !elaborator || !guarantor\">\r\n    <template #header>\r\n      <Navbar\r\n          :links=\"[\r\n          { name: 'Úkoly', path: `/panel/tasks/teacher` },\r\n          { name: `Úkol: ${taskId}`, path: `/panel/tasks/teacher/${taskId}` },\r\n          { name: `Uživatel: ${userId}`, path: `/panel/tasks/teacher/${taskId}/${userId}` },\r\n        ]\"\r\n      />\r\n    </template>\r\n\r\n    <template #content v-if=\"task && elaborator && guarantor\">\r\n      <div id=\"task\">\r\n        <div class=\"content\">\r\n          <div class=\"line page-section\">\r\n            <div class=\"section-head\">\r\n              <h3>{{ task.name }}</h3>\r\n              <p>Úkol ID: {{ task.id }}</p>\r\n              <p>Garant: {{ guarantor.name }} {{ guarantor.surname }}</p>\r\n              <p>Začátek: {{ moment(task.startDate).format(\"DD.MM. YYYY HH:MM\") }}</p>\r\n              <p>Konec: {{ moment(task.endDate).format(\"DD.MM. YYYY HH:MM\") }}</p>\r\n              <p>Nutné potvrzení: {{ task.approve ? \"Ano\" : \"Ne\" }}</p>\r\n\r\n              <div class=\"profile\">\r\n                <p>Vypracovává:</p>\r\n\r\n                <div class=\"data\">\r\n                  <img :src=\"'http://89.203.248.163/uploads/profilePictures/' + elaborator.profilePicture\" alt=\"User profile photo\" loading=\"lazy\"/>\r\n                  <span>{{ elaborator.name }} {{ elaborator.surname }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"line page-section\">\r\n            <div class=\"section-head\">\r\n              <h3>Materiály</h3>\r\n              <div class=\"line file\">\r\n                <a :href=\"`http://89.203.248.163/uploads/tasks/${task.id}/${task.task}`\" class=\"link\" download target=\"_blank\">\r\n                  {{ task.task }}\r\n                </a>\r\n                <a class=\"icon-div\" :href=\"`http://89.203.248.163/uploads/tasks/${task.id}/${task.task}`\" download target=\"_blank\"><Icon class=\"icon\" name=\"material-symbols:download-2-rounded\"></Icon></a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"line page-section\">\r\n            <div class=\"section-head\">\r\n              <h3>Vypracování</h3>\r\n                <div class=\"line file\" v-if=\"(task as any).elaboration\">\r\n                <a :href=\"`http://89.203.248.163/uploads/tasks/${task.id}/${elaborator.id}/elaboration/${(task as any).elaboration}`\" class=\"link\" download target=\"_blank\">\r\n                  {{ (task as any).elaboration }}\r\n                </a>\r\n                <a class=\"icon-div\" :href=\"`http://89.203.248.163/uploads/tasks/${task.id}/${elaborator.id}/elaboration/${(task as any).elaboration}`\" download target=\"_blank\"><Icon class=\"icon\" name=\"material-symbols:download-2-rounded\"></Icon></a>\r\n              </div>\r\n              <p v-else>\r\n                <span class=\"error\">Uživatel ještě nevypracoval tento úkol.</span>\r\n              </p>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"line page-section review\">\r\n            <EditTaskFile :reset=\"triggerReset\" :old-task-file=\"task.review\" @update=\"onTaskFileUpdate\">\r\n              <div class=\"section-head\">\r\n                <h3>Hodnocení <span class=\"update\" v-show=\"taskReviewFile !== undefined\">(aktualizováno)</span></h3>\r\n                <p>Zde můžete nahrát nebo stáhnout soubor s hodnocením úkolu. Povolené formáty: PDF, DOCX, ODT, HTML nebo ZIP.</p>\r\n              </div>\r\n            </EditTaskFile>\r\n            <div class=\"column\">\r\n              <button class=\"icon-div\" @click=\"removeFile\"><Icon class=\"icon\" name=\"material-symbols:delete\"></Icon></button>\r\n              <a v-if=\"lastUploadedReviewFileName || task.review\" class=\"icon-div\" :href=\"`http://89.203.248.163/uploads/tasks/${task.id}/${elaborator.id}/review/${lastUploadedReviewFileName || task.review}`\" download target=\"_blank\">\r\n                <Icon class=\"icon\" name=\"material-symbols:download-2-rounded\"></Icon>\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          <EditFormFooter :is-loading=\"loading\" :reset-function=\"reset\" :submit-function=\"submit\">\r\n            Pole označená * jsou povinná\r\n          </EditFormFooter>\r\n        </div>\r\n      </div>\r\n      <Alerts />\r\n    </template>\r\n  </NuxtLayout>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n#task {\r\n  display: flex;\r\n  flex-direction: row;\r\n  gap: 30px;\r\n  position: relative;\r\n\r\n  .link {\r\n    padding: 15px;\r\n    border: var(--border-width) solid rgba(var(--border-color), 0.5);\r\n    color: var(--btn-2-color);\r\n    background: var(--btn-2-background);\r\n    border-radius: var(--normal-border-radius);\r\n    text-decoration: none;\r\n    transition: 0.2s;\r\n    font-size: 16px;\r\n    flex: 1;\r\n\r\n    &:hover {\r\n      color: rgba(var(--main-color), 0.8);\r\n    }\r\n  }\r\n\r\n  .icon-div {\r\n    padding: 15px;\r\n    border-radius: var(--small-border-radius);\r\n    transition: 0.2s;\r\n    font-size: 18px;\r\n    background: var(--btn-2-background);\r\n    color: var(--btn-2-color);\r\n    border: var(--border-width) solid rgba(var(--border-color), 0.5);\r\n    cursor: pointer;\r\n    line-height: 0;\r\n\r\n    &:hover {\r\n      background: var(--btn-2-hover-background);\r\n    }\r\n  }\r\n\r\n  .uppercase {\r\n    text-transform: uppercase;\r\n  }\r\n\r\n  .actions {\r\n    display: flex;\r\n    flex-direction: row;\r\n    gap: 10px;\r\n\r\n    button {\r\n      padding: 10px 15px;\r\n      border-radius: var(--small-border-radius);\r\n      transition: 0.2s;\r\n      font-size: 16px;\r\n      background: var(--btn-2-background);\r\n      color: var(--btn-2-color);\r\n      border: var(--border-width) solid rgba(var(--border-color), 0.5);\r\n\r\n      &:hover {\r\n        background: var(--btn-2-hover-background);\r\n      }\r\n\r\n      &.accept {\r\n        color: var(--actionBar-actions-add-color);\r\n        background: rgba(var(--actionBar-actions-add-background), 1);\r\n        border-color: rgba(var(--actionBar-actions-add-border), 1);\r\n\r\n        &:hover {\r\n          background: rgba(var(--actionBar-actions-add-background), 0.8);\r\n        }\r\n      }\r\n\r\n      &.deny {\r\n        color: var(--actionBar-actions-remove-color);\r\n        background: rgba(var(--actionBar-actions-remove-background), 1);\r\n        border-color: rgba(var(--actionBar-actions-remove-border), 1);\r\n\r\n        &:hover {\r\n          background: rgba(var(--actionBar-actions-remove-background), 0.8);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .content {\r\n    width: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n    gap: 35px;\r\n    position: relative;\r\n\r\n    .line {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: flex-start;\r\n      justify-content: space-between;\r\n      flex-wrap: wrap;\r\n      gap: 30px;\r\n      flex: 1;\r\n\r\n      .file {\r\n        gap: 10px;\r\n      }\r\n    }\r\n\r\n    .buttons {\r\n      display: flex;\r\n      gap: 10px;\r\n\r\n      button {\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        flex-direction: column;\r\n        gap: 5px;\r\n        padding: 10px 15px;\r\n        border-radius: var(--small-border-radius);\r\n        border: var(--border-width) solid transparent;\r\n        transition: 0.2s;\r\n        font-size: 16px;\r\n\r\n        &.remove {\r\n          color: var(--actionBar-actions-remove-color);\r\n          background: rgba(var(--actionBar-actions-remove-background), 1);\r\n          border-color: rgba(var(--actionBar-actions-remove-border), 1);\r\n\r\n          &:hover {\r\n            background: rgba(var(--actionBar-actions-remove-background), 0.8);\r\n          }\r\n        }\r\n\r\n        &.reset {\r\n          background: var(--btn-2-background);\r\n          color: var(--btn-2-color);\r\n          border-color: rgba(var(--border-color), 0.5);\r\n\r\n          &:hover {\r\n            background: var(--btn-2-hover-background);\r\n          }\r\n        }\r\n\r\n        .icon {\r\n          font-size: 16px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .error {\r\n      color: rgba(var(--error-color), 1);\r\n      font-size: 16px;\r\n    }\r\n\r\n    .page-section {\r\n      border-bottom: 1px solid rgba(var(--border-color), 0.5);\r\n      padding-bottom: 35px;\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 20px;\r\n    }\r\n\r\n    .section-head {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 10px;\r\n      width: 100%;\r\n\r\n      h3 {\r\n        font-weight: 600;\r\n        font-size: 20px;\r\n        color: var(--title-color);\r\n      }\r\n\r\n      p {\r\n        color: rgba(var(--description-color), 1);\r\n        font-size: 16px;\r\n      }\r\n\r\n      .update {\r\n        color: rgba(var(--error-color), 1);\r\n      }\r\n    }\r\n\r\n    .profile {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: flex-start;\r\n      gap: 10px;\r\n\r\n      p {\r\n        font-size: 16px;\r\n        color: var(--mini-title-color);\r\n        font-weight: 600;\r\n      }\r\n\r\n      .data {\r\n        display: flex;\r\n        align-items: center;\r\n        gap: 10px;\r\n\r\n        img {\r\n          min-width: 45px;\r\n          min-height: 45px;\r\n          width: 45px;\r\n          height: 45px;\r\n          border-radius: var(--small-border-radius);\r\n          object-fit: cover;\r\n        }\r\n\r\n        span {\r\n          font-size: 16px;\r\n          color: rgba(var(--description-color), 1);\r\n        }\r\n      }\r\n    }\r\n\r\n    .review {\r\n      display: flex;\r\n      flex-direction: row;\r\n      align-items: flex-end;\r\n      justify-content: space-between;\r\n      gap: 10px;\r\n      flex-wrap: wrap;\r\n\r\n      ::v-deep(.section) {\r\n        flex: 1;\r\n        width: auto;\r\n      }\r\n    }\r\n\r\n    .column {\r\n      display: flex;\r\n      flex-direction: column;\r\n      gap: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n@media (max-width: 1055px) {\r\n  #task {\r\n    flex-direction: column;\r\n    gap: 30px;\r\n  }\r\n}\r\n</style>"],"names":["route","useRoute","router","useRouter","taskId","userId","useHead","alertsStore","useAlertsStore","task","ref","elaborator","guarantor","taskReviewFile","loading","lastUploadedReviewFileName","firstFileName","triggerReset","reset","removeFile","submit","formData","apiFetch","response","_a","_b","_c","onTaskFileUpdate","taskFile","onMounted","taskData","elaboratorData","guarantorData"],"mappings":"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"}