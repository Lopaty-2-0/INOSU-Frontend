import b from"./D0YqDxnM.js";import{e as x,z as U,r as l,j as y,k,l as I,w as f,m as P,o as w,a as t,b as n,u,h as C,v as N,_ as R}from"./CUZeRvXC.js";import{A as G}from"./CZPl7iRn.js";import{N as B}from"./DCknVipl.js";import{U as S,G as A}from"./BuOA1l1J.js";import{_ as E}from"./Z5wW8-57.js";import{a as L}from"./CkL4TXxs.js";import{u as O}from"./Db-zqWpw.js";import"./BggygjHh.js";import"./DaNuMFcU.js";import"./CnmWWN_2.js";import"./Bz2aGY34.js";import"./DU8lQhTt.js";import"./C5S46NFB.js";const T={id:"users"},V={class:"content"},$={class:"line"},j={class:"search"},D={class:"users"},H=x({__name:"index",setup(M){const s=U().params.role;O({title:"Panel | Upravení uživatelů - "+s,meta:[{name:"description",content:"Panel Settings User Information"}]});const r=l(null),m=l(0),v=l(0),p=l(""),d=l([]),h=()=>{const c=p.value.split(" "),e=[];r.value&&(r.value.forEach(a=>{[a.name,a.surname,a.email,a.abbreviation||""].some(o=>{let _=!1;return c.forEach(g=>{_=o.toLowerCase().includes(g.toLowerCase())}),_})&&e.push(a)}),d.value=e)};return y(async()=>{await L(`/user/get/role?role=${encodeURIComponent(s)}`,{method:"get",headers:{"Content-Type":"application/json"},credentials:"include",ignoreResponseError:!0,onResponse({response:c}){var a,i;const e=((i=(a=c._data)==null?void 0:a.data)==null?void 0:i.users)||[];r.value=e,d.value=[...e]}})}),(c,e)=>{const a=b,i=P;return w(),k(i,{name:"panel",loading:!r.value},I({header:f(()=>[n(B,{links:[{name:"Uživatelé",path:"/panel/users"},{name:u(s),path:"/panel/users/"+u(s)},{name:"Upravení",path:"/panel/users/"+u(s)+"/edit"}]},null,8,["links"])]),_:2},[r.value?{name:"content",fn:f(()=>[t("div",T,[t("div",V,[n(G,{class:"action-bar",description:"Správa uživatelů",active:1,texts:["Přidat","Upravit","Odebrat"],icons:["material-symbols:add-rounded","material-symbols:edit-rounded","material-symbols:delete-rounded"],"navigate-to":["/panel/users/add",`/panel/users/${u(s)}/edit`,`/panel/users/${u(s)}/remove`]},null,8,["navigate-to"]),t("div",$,[e[3]||(e[3]=t("div",{class:"section-head"},[t("h3",null,"Upravení uživatelů"),t("p",null,"Zde si můžete vybrat uživatele, kterého chcete upravit.")],-1)),t("div",j,[C(t("input",{type:"text",name:"searchInput",placeholder:"Hledat uživatele",onInput:h,"onUpdate:modelValue":e[0]||(e[0]=o=>p.value=o)},null,544),[[N,p.value]]),n(a,{class:"icon",name:"material-symbols:search-rounded"})])]),t("div",D,[n(S,{users:d.value,"users-per-page":12,action:"edit","active-page":v.value,"onGet:numberOfPages":e[1]||(e[1]=o=>m.value=o)},null,8,["users","active-page"]),n(A,{class:"users-navigation","number-of-pages":m.value,"onGet:activePage":e[2]||(e[2]=o=>v.value=o)},null,8,["number-of-pages"])])]),n(E)])]),key:"0"}:void 0]),1032,["loading"])}}}),ne=R(H,[["__scopeId","data-v-c98d05d6"]]);export{ne as default};
//# sourceMappingURL=Col9FPrc.js.map
