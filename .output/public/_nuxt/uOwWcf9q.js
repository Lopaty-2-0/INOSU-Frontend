import f from"./CLz_XDSv.js";import{_ as y}from"./CKKYFl9L.js";import{e as g,z as D,r as m,j as x,k as b,l as w,w as s,m as $,o as M,a as t,b as r,u as a,h as N,v as Y,t as c,n as H,_ as I}from"./J7-yQi-K.js";import{N as T}from"./CR_H3JQR.js";import{W as V}from"./DjJD5J-C.js";/* empty css        */import{a as C}from"./C0hwI7pc.js";import{u as S}from"./PCjTfg1e.js";import{m as u}from"./qbsqZPAI.js";import{N as A}from"./QlyHuZOE.js";import"./BZ59wu3D.js";import"./Qpf0i4a6.js";import"./CtpsiGFq.js";import"./C6MNyRTM.js";import"./DxXzBOxs.js";const R={id:"tasks"},z={class:"content"},B={class:"line"},U={class:"line"},L={class:"line"},O={class:"search"},P=["href"],W={class:"actions"},Z=["onClick"],j=g({__name:"index",setup(E){S({title:"Panel | Vaše úkoly",meta:[{name:"description",content:"Panel Homepage"}]});const o=D().params.role,_=m([{field:"id",title:"ID",width:"90px",type:"number"},{field:"name",title:"Název",type:"string"},{field:"startDate",title:"Začátek",type:"date"},{field:"endDate",title:"Konec",type:"date"},{field:"task",title:"Zadání",type:"string"},{field:"actions",title:"Akce"}]),p=m(void 0),d=m(""),v=async l=>{l&&await H(`/panel/tasks/${o}/${l}`)};return x(async()=>{await C(`/user_task/get/status?status=${encodeURIComponent(JSON.stringify(["approved"]))}&which=1`,{method:"get",credentials:"include",ignoreResponseError:!0,onResponse({response:l}){const n=(l._data.data.elaboratingTasks||[]).filter(i=>!i.review).map(i=>({...i,id:i.idTask}))||[];p.value=n||[]}})}),(l,n)=>{const i=f,k=y,h=$;return M(),b(h,{name:"panel",loading:!p.value},w({header:s(()=>[r(T,{links:[{name:"Úkoly",path:`/panel/tasks/${a(o)}`}]},null,8,["links"])]),_:2},[p.value?{name:"content",fn:s(()=>[t("div",R,[t("div",z,[t("div",B,[r(A,{class:"navigation",title:"Úkoly","active-link-id":0,links:[{name:"Aktivní",path:`/panel/tasks/${a(o)}`},{name:"Dostupné",path:`/panel/tasks/${a(o)}/available`},{name:"Stav úkolů",path:`/panel/tasks/${a(o)}/status`},{name:"Vyhodnocené",path:`/panel/tasks/${a(o)}/evaluated`}]},null,8,["links"]),t("div",U,[t("div",L,[n[1]||(n[1]=t("div",{class:"section-head"},[t("h3",null,"Vaše úkoly"),t("p",null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit.")],-1)),t("div",O,[N(t("input",{type:"text",name:"searchInput",placeholder:"Hledat úkol","onUpdate:modelValue":n[0]||(n[0]=e=>d.value=e)},null,512),[[Y,d.value]]),r(i,{class:"icon",name:"material-symbols:search-rounded"})])]),r(a(V),{rows:p.value,columns:_.value,pageSize:10,sortable:!0,search:d.value},{task:s(e=>[t("a",{href:`http://89.203.248.163/uploads/tasks/${e.value.id}/${e.value.task}`,class:"link",download:"",target:"_blank"},c(e.value.task),9,P)]),startDate:s(e=>[t("p",null,c(a(u)(e.value.startDate).format("DD.MM. YYYY HH:MM")),1)]),endDate:s(e=>[t("p",null,c(a(u)(e.value.endDate).format("DD.MM. YYYY HH:MM")),1)]),approve:s(e=>[t("p",null,c(e.value.approve?"Ano":"Ne"),1)]),actions:s(e=>[t("div",W,[t("button",{type:"button",class:"primary",onClick:J=>v(e.value.id)},"Otevřít",8,Z)])]),_:1},8,["rows","columns","search"])])])])]),r(k)]),key:"0"}:void 0]),1032,["loading"])}}}),ct=I(j,[["__scopeId","data-v-02a2d1bb"]]);export{ct as default};
//# sourceMappingURL=uOwWcf9q.js.map
