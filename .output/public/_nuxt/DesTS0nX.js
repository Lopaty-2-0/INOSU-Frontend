import N from"./CifvRPEO.js";import{_ as D}from"./DYRQ8GlI.js";import{e as $,z as w,r as c,j as I,k as M,l as R,w as d,m as T,E as V,o as Y,a as e,b as r,u as l,t as s,d as H,h as P,v as z,n as A,_ as C}from"./BOTJj54N.js";import{N as S}from"./CNAKVRyg.js";import{W as U}from"./BaZjkqkZ.js";/* empty css        */import{A as B}from"./ynBgDga9.js";import{a as m}from"./CgcvtauW.js";import{m as v}from"./qbsqZPAI.js";import{N as E}from"./BsP6i_ER.js";import{u as O}from"./DnVfp5Ik.js";import"./Bjzd0Fzp.js";import"./DIgd3d0_.js";import"./DJnPrvna.js";import"./DDA_vpvc.js";import"./DqRpk7B7.js";const Z={id:"tasks"},j={class:"content"},W={class:"line"},F={class:"line"},G={class:"line"},J={class:"section-head"},K={class:"section-head"},L=["href"],q={class:"search"},Q={class:"profile"},X=["src"],ee={class:"uppercase"},ae={class:"actions"},te=["onClick"],se=$({__name:"done",setup(oe){const _=w(),h=V(),n=_.params.taskId;O({title:"Panel | Vypracované - "+n,meta:[{name:"description",content:"Panel Homepage"}]});const t=c(void 0),k=c(!1),f=c([{field:"id",title:"ID",width:"90px",type:"number"},{field:"name",title:"Autor",type:"string"},{field:"abbreviation",title:"Zkratka",type:"date"},{field:"email",title:"E-mail",type:"string"},{field:"actions",title:"Akce"}]),p=c(void 0),u=c(""),g=async i=>{i&&await A(`/panel/tasks/teacher/${n}/${i}`)};return I(async()=>{await m(`/task/get/id?idTask=${n}`,{method:"get",headers:{"Content-Type":"application/json"},credentials:"include",ignoreResponseError:!0,async onResponse({response:i}){const a=i._data.data.task;if(!a){await h.push("/panel/tasks/teacher");return}t.value=a}}),await m(`/user_task/get/status/idTask?idTask=${n}&status=${encodeURIComponent(JSON.stringify(["approved"]))}`,{method:"get",credentials:"include",ignoreResponseError:!0,onResponse({response:i}){p.value=(i._data.data.tasks||[]).filter(a=>a.elaboration).map(a=>a.elaborator)||[]}})}),(i,a)=>{const y=N,b=D,x=T;return Y(),M(x,{name:"panel",loading:!p.value||!t.value},R({header:d(()=>[r(S,{links:[{name:"Úkoly",path:"/panel/tasks/teacher"},{name:"Vypracované",path:`/panel/tasks/teacher/${l(n)}/inProgress`}]},null,8,["links"])]),_:2},[p.value&&t.value?{name:"content",fn:d(()=>[e("div",Z,[e("div",j,[r(B,{class:"action-bar",description:"Správa úkolů",texts:["Přidat","Odebrat"],actions:["add","remove"],icons:["material-symbols:add-rounded","material-symbols:delete-rounded"],"navigate-to":["/panel/tasks/teacher/add","/panel/tasks/teacher/remove"]}),e("div",W,[r(E,{class:"navigation",title:"Úkoly","active-link-id":2,links:[{name:"Žádosti",path:`/panel/tasks/teacher/${l(n)}`},{name:"Rozpracované",path:`/panel/tasks/teacher/${l(n)}/inProgress`},{name:"Vypracované",path:`/panel/tasks/teacher/${l(n)}/done`}]},null,8,["links"]),e("div",F,[e("div",G,[e("div",J,[e("div",K,[a[2]||(a[2]=e("h3",null,"Vypracovaný úkol",-1)),e("p",null,"Úkol ID: "+s(t.value.id),1),e("p",null,"Název: "+s(t.value.name),1),e("p",null,"Garant ID: "+s(t.value.guarantor),1),e("p",null,"Začátek: "+s(l(v)(t.value.startDate).format("DD.MM. YYYY HH:MM")),1),e("p",null,"Konec: "+s(l(v)(t.value.endDate).format("DD.MM. YYYY HH:MM")),1),e("p",null,"Nutné potvrzení: "+s(t.value.approve?"Ano":"Ne"),1),e("p",null,[a[1]||(a[1]=H(" Zadání: ")),e("a",{href:`http://89.203.248.163/uploads/tasks/${t.value.id}/${t.value.task}`,class:"link",download:"",target:"_blank"},s(t.value.task),9,L)])])]),e("div",q,[P(e("input",{type:"text",name:"searchInput",placeholder:"Hledat uživatele","onUpdate:modelValue":a[0]||(a[0]=o=>u.value=o)},null,512),[[z,u.value]]),r(y,{class:"icon",name:"material-symbols:search-rounded"})])]),r(l(U),{loading:k.value,rows:p.value,columns:f.value,pageSize:10,sortable:!0,search:u.value},{name:d(o=>[e("div",Q,[e("img",{src:"http://89.203.248.163/uploads/profilePictures/"+o.value.profilePicture,alt:"User profile photo",loading:"lazy"},null,8,X),e("p",null,s(o.value.name)+" "+s(o.value.surname),1)])]),abbreviation:d(o=>[e("p",ee,s(o.value.abbreviation||"Není"),1)]),actions:d(o=>[e("div",ae,[e("button",{type:"button",class:"primary",onClick:ne=>g(o.value.id)},"Otevřít",8,te)])]),_:1},8,["loading","rows","columns","search"])])])])]),r(b)]),key:"0"}:void 0]),1032,["loading"])}}}),xe=C(se,[["__scopeId","data-v-3d9796f7"]]);export{xe as default};
//# sourceMappingURL=DesTS0nX.js.map
